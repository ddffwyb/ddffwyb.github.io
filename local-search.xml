<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>立直麻将新手入门</title>
    <link href="/2022/01/25/%E7%AB%8B%E7%9B%B4%E9%BA%BB%E5%B0%86%E6%96%B0%E6%89%8B%E5%85%A5%E9%97%A8/"/>
    <url>/2022/01/25/%E7%AB%8B%E7%9B%B4%E9%BA%BB%E5%B0%86%E6%96%B0%E6%89%8B%E5%85%A5%E9%97%A8/</url>
    
    <content type="html"><![CDATA[<h2 id="简易版牌效率"><a class="markdownIt-Anchor" href="#简易版牌效率"></a> 简易版牌效率</h2><blockquote><p>下文中均以 p 指代饼子，m 指代万子，s 指代条子。如 5p 即指 5 饼。</p></blockquote><p>首先，在做牌的思路中，“组”的概念是很重要的。麻将就是做四个面子和一个雀头的游戏，面子、雀头、能够成为面子或雀头候补的搭子等，这些都可以看成一“组”牌。</p><p><img src="https://cdn.nlark.com/yuque/0/2022/webp/1392849/1641093289812-58ce3d11-97f0-4dd7-bc69-fdb04dace08c.webp#clientId=u82690a79-f08f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u150456bd&amp;margin=%5Bobject%20Object%5D&amp;originHeight=48&amp;originWidth=346&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u88098f15-f12d-49a8-80b6-424b43cd958&amp;title=" alt="" /></p><p>比如牌姿 A 就有</p><p><img src="https://cdn.nlark.com/yuque/0/2022/webp/1392849/1641093289922-6a144082-e975-4013-b151-db81d35db64b.webp#clientId=u82690a79-f08f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=uc74507ac&amp;margin=%5Bobject%20Object%5D&amp;originHeight=37&amp;originWidth=272&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u689b7f77-4d14-40a4-a714-33d40d4af02&amp;title=" alt="" /></p><p>共 5 组牌。</p><p>这个时候摸到 36p 可以组成面子，摸到东时 4p 就成为雀头，这里无需对雀头和面子区别对待，统一看做“一组牌”即可。</p><p><img src="https://cdn.nlark.com/yuque/0/2022/webp/1392849/1641093289948-c6c6c2dd-02b0-4980-8469-99c55fa51249.webp#clientId=u82690a79-f08f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u06f2b4bd&amp;margin=%5Bobject%20Object%5D&amp;originHeight=51&amp;originWidth=312&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u3c1b5703-3a46-46cd-a61f-9d17316e713&amp;title=" alt="" /></p><p>牌姿 B 呢？算得上面子、雀头和搭子的只有 12p、345s 和一对东。所以这副手牌里只有 3 组牌。</p><p>现在说明一下为什么“组”的概念如此重要。我们举个例子。牌姿 C 应该何切？理由是什么？</p><p><img src="https://cdn.nlark.com/yuque/0/2022/webp/1392849/1641093289774-5b3721d8-9245-4872-af6b-1572cd8b72e2.webp#clientId=u82690a79-f08f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u4af576a2&amp;margin=%5Bobject%20Object%5D&amp;originHeight=38&amp;originWidth=340&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=ub69fc14b-9c7e-43a2-afe8-a223e31f585&amp;title=" alt="" /></p><p>进入选择的是 4p、3s 和 5s。这时切 4p 可以留下两面，切索子就只能留下坎张或者双碰。因为我们尽量要让最终听牌型成为两面，所以“要留下能够加强愚型的牌”，打 4p。大概的说明就是这样。下面我们看牌姿 D。</p><p><img src="https://cdn.nlark.com/yuque/0/2022/webp/1392849/1641093289848-22a39765-a3dc-4556-8fc1-1dd38037fb18.webp#clientId=u82690a79-f08f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u1c73123c&amp;margin=%5Bobject%20Object%5D&amp;originHeight=42&amp;originWidth=348&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u2dd404bf-6b0a-48ec-ac9a-a9ec89ba5e4&amp;title=" alt="" /></p><p>按照之前的说法，应该保留愚型的 335s 去打 4p，但这次打 3s 或 5s 才是正确的。为什么相似的牌却无法用同样的理由切牌呢？</p><p>因为牌姿 C 是 5 组牌，而牌姿 D 是 6 组牌。有 5 组牌时，手牌组数刚刚好，我们只需要考虑如何将各组牌组成面子或雀头。而有 6 组牌的场合，因为多出了 1 组，所以在大多数场合正确的选择都是把形状最差的一组牌拆掉，从而变成 5 组。</p><p>这种做牌思路的特征是“在组数不同的情况下，正确的理论也会不完全适用”，所以在考虑做牌的时候首先应该分辨出手中的牌有几组。</p><p>那么现在我们看一下手牌里有不同组数的时候的基本思路。首先有 5 组的时候，就如之前所说，要考虑“如何能让各组牌以最大效率组成面子”，如果有愚型的话就要尽量留下愚型的加强牌。</p><p><img src="https://cdn.nlark.com/yuque/0/2022/webp/1392849/1641093290325-116174ac-1f67-4980-88dc-60cb1a7a5cf1.webp#clientId=u82690a79-f08f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u4d911def&amp;margin=%5Bobject%20Object%5D&amp;originHeight=103&amp;originWidth=311&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u10231e6e-90ef-4d44-90ba-513e1476621&amp;title=" alt="" /></p><p>没有加强牌的时候该如何做呢？牌姿 E 已经有 5 组牌，所以打 47p，留下更安全的西。而牌姿 F 中的 12m 是愚型，所以要尽量利用饼子的延展寻求良型搭子，一般会打西。</p><p>接下来是 6 组牌的情况。如之前所说，因为多出一组牌，所以要拆掉一组。应该留下的牌的优先级如下：</p><ol><li>两面以上的搭子</li><li>335s 或 246p 这样进张枚数超过 5 枚的搭子</li><li>坎张搭子</li><li>边张搭子</li><li>对子有三个以上时的对子</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2022/webp/1392849/1641093290571-a865a57c-4f4a-4ed0-9de1-7ee38eff9650.webp#clientId=u82690a79-f08f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u1c68a79a&amp;margin=%5Bobject%20Object%5D&amp;originHeight=51&amp;originWidth=330&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u6b4b79af-e699-4161-92bd-0a24c7bdc41&amp;title=" alt="" /></p><p>上面的牌姿 G，按照刚刚的排名来看，35s 坎张搭子优先级最差，所以拆掉。下面的牌姿 H 又如何打呢？</p><p><img src="https://cdn.nlark.com/yuque/0/2022/webp/1392849/1641093290409-ea2ead47-cdd6-4f3d-8b55-cbecfa588c46.webp#clientId=u82690a79-f08f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u3e574aff&amp;margin=%5Bobject%20Object%5D&amp;originHeight=60&amp;originWidth=340&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=u73e7aed1-70a9-4312-81b3-164e272dddc&amp;title=" alt="" /></p><p>牌姿 H 有 6 组牌，但是无法按照刚刚的优先级区别各组牌的好坏。这种情况也有打 8p 的操作，但相比随便拆一组搭子（实际上按照听牌时待牌靠近两边为佳的说法应该拆 56s）来形成 5 组牌的形状的打法，又增加了一种“如何在一向听的时候不产生多余牌”的打法。</p><p>最后是手牌里有 4 组牌以下的情况。因为不满足和牌所需要的 5 组牌，所以要在孤张中选择一张最容易形成一组的牌留下。大体价值排名如下：</p><ol><li>四连形（3456m）或中膨形（3445p）等连续形</li><li>数牌 3-7</li><li>数牌 2、8</li><li>数牌 1、9</li><li>字牌</li></ol><p><img src="https://cdn.nlark.com/yuque/0/2022/webp/1392849/1641093290396-c4f0f6d7-71fb-4a93-873a-8c6e255a6cb4.webp#clientId=u82690a79-f08f-4&amp;crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;from=paste&amp;id=u2d1c73eb&amp;margin=%5Bobject%20Object%5D&amp;originHeight=41&amp;originWidth=309&amp;originalType=url&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;taskId=uc3c174a7-bdf2-4396-b760-b35d7042479&amp;title=" alt="" /></p><p>在牌姿 I 中，将浮牌 36m，58p 进行比较，应该将排名最靠下的 8p 打出。但这说到底还是枚数优先的打法，如果 8p 是宝牌的话，涉及到打点的因素，又会有不同的说法，这一点我们在本编中再涉及。</p><p>上面的解释虽然略显粗糙仓促，但各位理解基于组数的牌效率基本了吗？只要具备了这种思路，就可以按照“数组数”——“按照组数和优先级做牌”的步骤，自动找到可以令进张面最广的选择。</p><p>这就是“牌效率”。想要在麻将中变强，牌效率是绝对无法回避的必修科目。但牌效率自然也不是做牌所需的一切。在实战中，要考虑进张数、打点、巡目、守备力等诸多要素来决定打哪张牌。另外副露也是非常重要的因素。加上鸣牌判断的话，每一打的优劣又会有所变化。</p><p>如果观看强者的网络直播或天凤观战的话，会发现有些表面上无视牌效率的切牌，比如明明有 5 组牌却退为 4 组的情况，或者在浮牌选择中优先留下字牌的情况等。这就是能区别出“一般强的打法”和“压倒性强力的打法”的战略部分了。</p><p>总结来说，所谓“按照牌效率的打法”、“进张数最大的打法”，并不需要特意地去数枚数。表示成如下情况，我们就可以清楚地明白了。</p><ol><li>了解手牌中的组数</li><li>根据组数不同的情况，对各要素进行比较</li></ol><p>需要比较的要素如下：</p><ol><li>5 组牌的情况<ol><li>加强牌：固定良形，增加愚型部分的进张</li><li>安牌和浮牌：一般来说优先度低于加强牌。如果手牌形状足够好就留下做安牌，有愚型等形状不满的情况，可以为了作出满意的形状而留下浮牌。</li></ol></li><li>6 组牌的场合：对各组牌进行比较。一般来说优先留下进张数多的牌组。</li><li>4 组牌以下的情况：对浮牌进行比较。留下容易形成搭子的中张和连续形。不要两边的牌和字牌。</li></ol><p>牌效率的主题就在于理解如上内容的基础上，来决定一局的战略应该“按牌效率打牌”还是“重视打点或守备力等其他要素”。</p><h2 id="简易版立直与手役"><a class="markdownIt-Anchor" href="#简易版立直与手役"></a> 简易版立直与手役</h2><h3 id="1-手役的考虑方法"><a class="markdownIt-Anchor" href="#1-手役的考虑方法"></a> 1. 手役的考虑方法</h3><h4 id="做牌是麻将的魅力"><a class="markdownIt-Anchor" href="#做牌是麻将的魅力"></a> 做牌是麻将的魅力</h4><p><strong>作役是麻将的魅力之一</strong>。作出难度很高的役满或者稀有役种的时候，不论是谁都会跟高兴的。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607590187010-c4606d67-0ecc-4b14-8848-ac01dee557d9.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=63&amp;id=w0TxM&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=63&amp;originWidth=444&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=14687&amp;status=done&amp;style=none&amp;title=&amp;width=444" alt="" /></p><p>上图为“纯全带幺九 + 三色同顺”，为有一定难度的牌。、</p><p>但是，有人常常会做过头了。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607590240836-c9129e0e-4fb4-4ad8-b18b-b160d79c2e88.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=67&amp;id=OfVMb&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=67&amp;originWidth=470&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13495&amp;status=done&amp;style=none&amp;title=&amp;width=470" alt="" /></p><p>比如这个手牌，为了做 234 的三色把 7 条切掉是不可以的。摸到 1 万或者 5 饼三色就没了，途中切掉 5 万也不能说是好手。这里拆掉条子的嵌张，做断幺平和才是可取的。</p><p><strong>新手不是不会作役，而是常常作役过头而导致失败</strong>。随手就去做“混一色”或者“对对和”（实际上混一色和对对和都没有想象中的那么好和）的人特别多。已经 3 副露都还没有听牌的情况也不少见。</p><p>麻将首先是要“有形” 。<strong>首先是要考虑如何去做“四面子 + 一雀头”</strong>，在不牺牲速度的前提下尽量的去做手役。</p><p>立直麻将中虽然有 40 多种役，其中经常出现的也就大概三分之一。剩下的役把它们看作“没用的役”为好。其中最坑爹的就是三杠子。难易度和报酬完全不成比例，不仅如此，杠产生的宝牌可能让仅仅是立直的牌变成倍满。这种坑爹的役完全没有去作的必要。</p><p>我们来看看实战中各种役出现的概率吧，下面是网络雀庄之一“<strong>天凤</strong>”官网上的统计资料：</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607590616107-05830138-20a8-493f-adcf-03148e834432.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=461&amp;id=Qgb3K&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=461&amp;originWidth=320&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13812&amp;status=done&amp;style=none&amp;title=&amp;width=320" alt="" /></p><p>麻将虽然有很多役，能够经常作成的役也是有限的。<strong>作这个表 RANK B 级以上的役的技术是比较重要的，出现率不足 0.5% 的稀有役种我们就无视好了。 本文的之后几节将按照该表中各个役种出现概率的高低依次进行介绍。</strong></p><p><strong>总结</strong>：</p><ul><li><strong>手役的难度和点数并不一定是平衡的，没有必要一味的追求难度高的役种</strong>。</li></ul><h4 id="手役是形成的"><a class="markdownIt-Anchor" href="#手役是形成的"></a> 手役是形成的</h4><p>一般来说，手役并不是有意识去“作”的，而是“形成”的。脑海中把最终形先定下来，然后把不要牌全都切掉的打法叫做“定打”，这种“定打”还是千万不要做为好。麻将中是不能决定自己所摸的牌的。所摸的牌和你自己选择的打牌是完全没有关系的，因此，配合自己的摸牌来作手役是一个准则。<strong>“定打”是绝对禁止的，这是打麻将的一个重要思想，就是说：千万不要“我想去作 XX 役而去期待后面的摸牌 ”，而是要“如果我摸到 XX 牌，这张牌能够作什么役”</strong>。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607590929387-da1c0c57-b701-4348-93be-d7bea871f501.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=68&amp;id=lcuyu&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=68&amp;originWidth=536&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=14439&amp;status=done&amp;style=none&amp;title=&amp;width=536" alt="" /></p><p>假设自己最后一位，拿到了这种 8 种九牌的垃圾牌。在这里切掉宝牌 4 饼决定作国士无双就是输家。宝牌重叠的话还有七对子的可能性，在第一巡就切掉了还搞什么？就算有国士无双的可能，无赤牌的话应该切掉 5 万或者 6 条保留全带或者七对子的可能性，有赤牌的话，就切掉 1 饼吧。是亲家的话毫无疑问应该切掉 1 饼。即使是这种配牌，要是役牌重叠的话也还是可以和牌的。这全要看摸牌了。“定打”可以说是一无是处，还是赶快放弃这种错失各种可能性的打法吧。根据摸牌才是最好的打法。</p><h3 id="2-立直"><a class="markdownIt-Anchor" href="#2-立直"></a> 2. 立直</h3><p>立直是非常特殊的手役。<strong>尽管立直要求门前清（即没有任何吃、碰和杠），立直仍是日本麻将中最容易做出的役</strong>。不仅没有形的约束，还有一发和里宝牌等奖励。<strong>实际上看就有 1.5 番的价值</strong>，而且是麻将中最容易做成的手役。劝诫大家：<strong>不要太拘泥与手役，要尽可能快速的门前清听牌</strong>。现代流是重视速度的打法，没有手役的小牌很多，其不足就由立直的得点力来补充。立直有优点也有缺点，所以立直的判断使需要考虑的。我们先来确认一下立直的意义。</p><h4 id="立直的优点"><a class="markdownIt-Anchor" href="#立直的优点"></a> 立直的优点</h4><ul><li><strong>优点 1：很容易就能成役</strong>。麻将没有役是不能和牌的，也就是“一番缚”。立直可以简单地搞定“一番缚”，只要不鸣牌（即不去吃、碰或杠）就好了。像下面图 1 这样的宝牌 3 的牌，不立直的话就只能自摸才能和牌，所以当然应该立直。</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907892233-5b2cda78-0c18-4a0a-9eaf-0c3631da83e9.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=68&amp;id=VrZtu&amp;originHeight=68&amp;originWidth=486&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=486" alt="" /></p><ul><li><strong>优点 2：有一发、自摸和里宝牌的可能性</strong>。没有役和宝牌的立直 NOMI 的手牌，立直和牌后运气好也有达到满贯的可能性。一发自摸再中一个里宝牌就是满贯，里宝牌是雀头不用一发也是满贯。</li><li><strong>优点 3：让对手不能自由地打牌</strong>。提高得点并不是立直的优点，因为立直之后通常大家都会变的很慎重。会有兜牌和弃和的人。这样一来，自摸的可能性就变高了。让别人不能自由地打牌，这才是立直的一个优点。具体的说，四暗刻要立直就是典型。打点已经很充足了，立直的目的就是延长巡目，提高自摸的可能性。</li><li><strong>优点 4：让对手知道你听牌，而去追求荣和</strong>。虽说通常情况下立直之后铳牌很难被打出来，但也有利用自己的舍牌去追求荣和的时候。筋牌引诱和听字牌也是比较容易能够和牌的。七对子听已经出现 2 张的字牌的话（也就是地狱单骑），还是立直比较好。</li></ul><h4 id="立直的缺点"><a class="markdownIt-Anchor" href="#立直的缺点"></a> 立直的缺点</h4><ul><li><strong>缺点 1：必须拿出 1000 点点棒</strong>。也许你会觉得 1000 点不过是个小数目，不过 AL 和第二位差 700 点的 TOP 的状况这就是一个很大的数目了。拿出 1000 点，这个时候就变成第二位了。结果 3 位或者 4 位和牌的话自己就以第二位结束了牌局。</li><li><strong>缺点 2：让他家直到自己已经听牌，荣和的期望不高</strong>。本来能够拆的面子面对立直，太危险的牌是不会切出来的。实在想要和牌的时候还是默听比较好。</li><li><strong>缺点 3：立直后除了所听的牌以及能够暗杠的牌，所有的牌都只能摸切</strong>。立直之后，除了所听牌和能暗杠的牌都必须摸切。所以，即使有人碰了发和白，你摸到中也必须切出去。</li><li><strong>缺点 4：不能改变手牌</strong>。立直后就算摸到好牌也不能在改变手牌的听牌结构。</li></ul><h4 id="立直还是默听"><a class="markdownIt-Anchor" href="#立直还是默听"></a> 立直，还是默听？</h4><p><strong>立直既有优点又有缺点。但立直的优点是压倒性地比缺点多</strong>。选择默听的情况是比较少见的。因此，只要记住默听有利的例子，只要不是这样的情况，毫不犹豫立直就好了。立直和默听的判断有两点。那就是手牌和场况。（麻将中所有的判断都是以这两点为中心的。）</p><ul><li><strong>手牌</strong>：比如手牌的听牌和打点，从自己手牌来判断。</li><li><strong>场况</strong>：现在的点数，他家的动向以及巡目等来判断。</li></ul><p>首先我们来看看根据手牌的判断吧。前提是东场，大家的点数都相差不大，巡目也早，他家也没什么动向。（这样的状况常被称作<strong>平场</strong>。）</p><p><strong>好型 + 早巡的时候，立直更有利是现在的标准</strong>。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907892472-41220c39-3abd-44b3-b29c-8e7e3f4fc585.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=67&amp;id=vnhc7&amp;originHeight=67&amp;originWidth=508&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=508" alt="" /></p><p>例 3 这样默听有 7700 的手牌，听牌型很好就积极的立直吧（此处同时听 2、5、8 万）。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907892544-b53aed93-35d6-45f4-9ee0-39c1fcceaa49.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=69&amp;id=dB3eH&amp;originHeight=69&amp;originWidth=520&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=520" alt="" /></p><p>像例 4 这样，高目有 7700 ，低目只有 2000 的手牌，不要想太多，立直就对了。不管高目是外筋（1、2、8、9）还是内筋（3~7）都没有关系。即使是低目也能有很不错的点数了。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907892612-c7a9bb69-118d-4a90-b480-25420b7cd7bc.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=71&amp;id=ond6n&amp;originHeight=71&amp;originWidth=518&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=518" alt="" /></p><p>不过例 5 这样有役且有 8000 打点的愚型，那就是默听有利了。</p><p><strong>总结</strong>：</p><ul><li><strong>跳满以上（12000+）的牌，一律默听</strong>。</li><li><strong>满贯确定的牌可以默听，不过序盘的好型听牌立直也不错</strong>。</li></ul><p>对于是否立直的问题，这一次我们再来看看听牌是好的听牌的情况。好的听牌，指的是容易和牌的听牌。<strong>两面以及多面张这种听牌数多的听牌可以期待自摸，字牌的双碰和单骑也是容易和牌的</strong>。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907892693-805995d7-21ab-4fab-aa8a-26dc1f271056.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=64&amp;id=Ivvep&amp;originHeight=64&amp;originWidth=430&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=430" alt="" /></p><p>例 1 是 1 饼和北的双碰听牌，两个都是容易被打出的牌，可以说是一个好的听牌。虽说只有 4 张，但是比不太好的两面要更加容易和牌。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907892767-bbdf0701-a1c7-4599-b68c-309dfaee5ee2.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=74&amp;id=yLV9Q&amp;originHeight=74&amp;originWidth=609&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=609" alt="" /></p><p>以前有着“平和 NOMI 的牌要默听”的理论。没有必要拿出 1000 点点棒把 1000 点的牌变成 2000 点，这样的意见占据着优势。但是，立直平和的平均得点在 3000 点以上，拿出 1000 点立直棒也不算什么损失。而如今的理论是，<strong>即使是平和 NOMI 也要立直</strong>。所以，例 2 打 1 条或者 4 条立直才是正确的。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907892837-44e72573-a243-432c-aa46-78eb53b22a7c.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=59&amp;id=hJgib&amp;originHeight=59&amp;originWidth=508&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=508" alt="" /></p><p>可以向三色或者一气贯通变化的牌，例 3 就是这样的情况。但是摸到单一种类的 5 万的概率很低，很多情况都是还没有摸到铳牌就已经出来了。例 3 的牌为了三色而默听是一个损失非常大的选择。立直的 1 番加上一发和里宝牌会更加实际。</p><p><strong>总结</strong>：</p><ul><li><strong>好形听牌即立直是基本，即使手牌还能变化也要无视</strong>。</li></ul><h3 id="3-役牌"><a class="markdownIt-Anchor" href="#3-役牌"></a> 3. 役牌</h3><h4 id="役牌的好处"><a class="markdownIt-Anchor" href="#役牌的好处"></a> 役牌的好处</h4><p><strong>役牌指的是中、发、白这三种三元牌以及自己的门风牌和场风牌（例如东风场的场风牌就是东）。役牌的好处就是没有限制</strong>。断幺和平和虽然也是容易和的役，但是 14 张手牌都有限制。除了役牌之外，没有其他只需要 3 张牌就可以搞定一番缚的役了。而且鸣牌也是 OK 的。能好好处理字牌的话，结合鸣牌可以提高不少和牌率。</p><h4 id="留下役牌"><a class="markdownIt-Anchor" href="#留下役牌"></a> 留下役牌</h4><p>配牌之后，由于役牌可以成役，一般情况下按照“<strong>客风牌 → 不要的数牌 → 役牌</strong>”的顺序切牌。尽管数牌的有效牌更多这个是事实，但也最好不得不选出不要的数牌。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607591905036-42eb3053-7841-42a0-b22b-00f84841aeaf.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=65&amp;id=iTo24&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=65&amp;originWidth=434&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=14624&amp;status=done&amp;style=none&amp;title=&amp;width=434" alt="" /></p><p>比如这个手牌，不切发和白，切 9 条也是可以的。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607591936210-186723f2-4b34-4a44-9c2a-cf1cfd8a9bfb.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=61&amp;id=GreNe&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=61&amp;originWidth=435&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12260&amp;status=done&amp;style=none&amp;title=&amp;width=435" alt="" /></p><p>例 2 的情况，两面搭子已经够了。拿着 6 条几乎没有什么价值。比起构成新的面子，能够让发重叠的话应该更高兴吧。2 、 5 万和 5 、 8 饼的进张没什么问题的话，这里就切掉 6 条。</p><h4 id="役牌还是断幺"><a class="markdownIt-Anchor" href="#役牌还是断幺"></a> 役牌，还是断幺？</h4><p><strong>一般情况下还是断幺更有利</strong>。准备鸣牌的话，还是断幺更加容易一些。而且也更容易与平和等其他役复合。（因为役牌有可能被别人掐死在手里）</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607592073667-a5ad4b29-968e-4d9c-92fa-d2eee0ade3aa.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=63&amp;id=olfRL&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=63&amp;originWidth=515&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12615&amp;status=done&amp;style=none&amp;title=&amp;width=515" alt="" /></p><p>例 3 的情况，切掉发选择断幺更加好一些。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607592109540-056c7436-65b5-4ec0-889b-937d28a0b973.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=64&amp;id=dVbVC&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=64&amp;originWidth=517&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12329&amp;status=done&amp;style=none&amp;title=&amp;width=517" alt="" /></p><p>但是例 4 这样的断幺并未确定的牌的话，不切发，切掉 8 饼或者 5 条比较好。</p><p><strong>总结</strong>：</p><ul><li><strong>打点相同的时候，确定的手役比不确定的手役更有利</strong>。</li></ul><h3 id="4-平和"><a class="markdownIt-Anchor" href="#4-平和"></a> 4. 平和</h3><h4 id="两面的变化"><a class="markdownIt-Anchor" href="#两面的变化"></a> 两面的变化</h4><p>平和是最容易作成的役之一。只要效率把握的好，手牌自然能够形成平和。根据平和的定义，<strong>平和全部都是由顺子构成的，而且最后的听牌形必须是两面（即 34 听 25 这样的形式）</strong>。所以作两面就是作平和的要点。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607607603451-fcd07a3f-53fd-4005-8aa3-82ef81bf0e15.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=60&amp;id=Obndt&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=60&amp;originWidth=432&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12479&amp;status=done&amp;style=none&amp;title=&amp;width=432" alt="" /></p><p>例 1 可以作为第一章的复习。根据“嵌张比边张有利”的理论，所以这里应该拆掉 1 、 2 万的搭子。饼子摸到 5 饼就可以形成两面，平和确定。就算摸到 6 饼形成两嵌进张也比较广，边张是没有这种变化的。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607607884089-c9b9a60f-6938-4fac-8614-09a149a1efe2.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=65&amp;id=tUByi&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=65&amp;originWidth=445&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13701&amp;status=done&amp;style=none&amp;title=&amp;width=445" alt="" /></p><p>例 2 是嵌张之间的比较，这里比较一下两面变化吧。万子摸到 2 万或者 6 万都可以形成两面，而饼子只能摸到 4 饼才能形成两面。因此这里应该拆掉饼子的嵌张。</p><h4 id="两嵌"><a class="markdownIt-Anchor" href="#两嵌"></a> 两嵌</h4><p>这里也先复习一下第一章。两嵌是嵌张相连，类似 4 、 6 、 8 万这样的形。摸到 5 万和 7 万都可以形成顺子，是仅次于两面的好形。利用两嵌也可以更加容易的形成平和。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607607971947-bfa7af14-2bef-4b29-a3d0-2ba6e5bf3ccf.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=58&amp;id=IOZGE&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=58&amp;originWidth=460&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13093&amp;status=done&amp;style=none&amp;title=&amp;width=460" alt="" /></p><p>比如这个手牌，让饼子形成两嵌切掉 4 饼是正确的打法。虽然切 8 饼进张数没有变化，但是切 4 饼形成平和的可能性更高，对打点方面更有利。</p><h4 id="拆对子"><a class="markdownIt-Anchor" href="#拆对子"></a> 拆对子</h4><p><strong>雀头是役牌的时候不是平和</strong>，这个尤其需要注意，总是有人忘。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607608075436-6844aff9-008f-48e6-9ed1-ff3f0813630b.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=63&amp;id=I7Ccp&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=63&amp;originWidth=463&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12096&amp;status=done&amp;style=none&amp;title=&amp;width=463" alt="" /></p><p>比如这个手牌，选择切掉中是很通常的打法。是兼顾断幺和平和的打法。不要选择碰中去和这种 1000 点的牌，<strong>应该以门断平（即门前清 + 断幺九 + 平和，简称门断平）这种高分手牌为目标。像这样拆掉对子作平和的情况是很常见的</strong>，这个要记住。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607608107943-bdc47d3d-aee2-489b-bc37-78c62ef77dac.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=65&amp;id=VaEB9&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=65&amp;originWidth=464&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12610&amp;status=done&amp;style=none&amp;title=&amp;width=464" alt="" /></p><p>例 5 是一个有名的问题，切 7 万和 2 饼是不一样的。切掉 7 万的话，万子就是 233457 万，即 234 万面子 + 357 万两嵌，有 6 万的进张。<strong>这种“面子 + 嵌张”的牌，千万不要看漏了</strong>。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607608276278-3ff02853-31d1-4c9d-a59a-accb6331e8ac.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=66&amp;id=BADYK&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=66&amp;originWidth=465&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12851&amp;status=done&amp;style=none&amp;title=&amp;width=465" alt="" /></p><p>例 6 切 6 万的人只能说没什么悟性了，这里应该拆掉 9 饼的对子。摸到 7 万就可以进入平和一向听，摸到 2 条或者 4 条仍然可以作平和。虽说也可以拆掉 3 条的对子，但是这样的话，只能摸到 5 万才能形成两面，剩下了一张 3 条的浮牌，不仅 3 条是一张比较危险的切牌，切掉之后也会没有安全牌。所以这里还是推荐拆掉 9 饼的对子。</p><h3 id="5-断幺"><a class="markdownIt-Anchor" href="#5-断幺"></a> 5. 断幺</h3><h4 id="断幺的好处"><a class="markdownIt-Anchor" href="#断幺的好处"></a> 断幺的好处</h4><p>“断幺九”简称“断幺”或“断”。</p><p><strong>断幺最大的好处就是鸣牌之后也能和牌</strong>，这个我们应该尽量利用。特别是最近加入赤牌的麻将，食断（食断即副露的断幺九也算役）的威力可是非常巨大的。“断幺 DORA3 8000 点”，铳了这种牌一定让人火大。但是对食断这种牌弃和又太说不过去。在雀庄打牌有赤牌和祝仪，食断渐渐在成为最强的手役。</p><h4 id="向着断幺打牌"><a class="markdownIt-Anchor" href="#向着断幺打牌"></a> 向着断幺打牌</h4><p>断幺不仅容易作成，也是可以与其他役复合的方便的役。因此，考虑断幺的可能性去打牌是很重要的。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607608554472-8321683e-fabf-4427-91a4-1247394fab51.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=64&amp;id=noPzw&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=64&amp;originWidth=434&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=13076&amp;status=done&amp;style=none&amp;title=&amp;width=434" alt="" /></p><p>例 1 应该切掉 1 万。摸到 6 饼，可能有断幺平和，摸到 3 饼或者 4 饼还有断幺三色的可能。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607608573695-02490a00-c223-4ee2-bbbc-41aad13d3187.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=60&amp;id=I741o&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=60&amp;originWidth=417&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12844&amp;status=done&amp;style=none&amp;title=&amp;width=417" alt="" /></p><p>例 2 就拿 6 饼替换掉 9 饼吧。摸到 2 万或者 4 万可以形成断幺。</p><h4 id="确定断幺"><a class="markdownIt-Anchor" href="#确定断幺"></a> 确定断幺</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607608625839-bc582189-3819-4952-a773-ed5b164e7449.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=64&amp;id=b0D64&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=64&amp;originWidth=423&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=11770&amp;status=done&amp;style=none&amp;title=&amp;width=423" alt="" /></p><p>上图的状态我们叫做“面子超载”，到底切什么是正确的呢？这里拆掉 2 、 3 条的搭子是常识。否则摸到 1 条的话也就只有立直这一个役。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607608676366-139a9cf2-2909-4b31-8843-3863208c20c9.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=62&amp;id=iVyr9&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=62&amp;originWidth=427&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12226&amp;status=done&amp;style=none&amp;title=&amp;width=427" alt="" /></p><p>只是要进张广的话，这里应该切掉 6 万。不过一般的打法这里会切 9 万。这是因为切 9 万不但可以确定断幺，还可以准备鸣牌。这牌也还有 567 或者 456 的三色的可能性。一言蔽之，断幺切牌时还必须靠手牌去鸣牌的可能性，这是断幺的巨大优点。</p><h3 id="6-染手"><a class="markdownIt-Anchor" href="#6-染手"></a> 6. 染手</h3><h4 id="染手的好处"><a class="markdownIt-Anchor" href="#染手的好处"></a> 染手的好处</h4><p>染手即一色，包括混一色和清一色。</p><p>染手系，特别是混一色是非常重要的役。不仅容易作，而且门清 3 番，鸣牌之后也有 2 番。能够有这么优秀的点数面的役还真没有了。虽然容易被对手警戒，但还是需要积极地去作。牌的材料好的话，可以从配牌之后就开始作。</p><p>判断是否要作染手的要素包括：</p><ul><li>手牌</li><li>场况</li><li>巡目</li><li>打点</li></ul><h4 id="从手牌判断"><a class="markdownIt-Anchor" href="#从手牌判断"></a> 从手牌判断</h4><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607609223911-f5a114fb-b4ca-4619-becb-6e5db5ad2997.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=68&amp;id=Ykf1E&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=68&amp;originWidth=531&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=14156&amp;status=done&amp;style=none&amp;title=&amp;width=531" alt="" /></p><p>条子有 11 张，而且形还不错。端牌是 1 条的对子， 3~8 条是相连的。这牌仿佛就是在说“作清一色吧”。这牌只要还没到终盘，应该向清一色前进。<strong>在确定染手之后，考虑到将来的危险度，这里先从 5 万开始切</strong>。考虑到摸到 6 万形成两面而从 1 万开始切是很通常的打法，但是这个牌万子的两面还是不要了吧。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607609335767-460fe0f1-e755-4c97-9859-eb043f1d2daf.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=63&amp;id=ba6Hb&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=63&amp;originWidth=549&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=16438&amp;status=done&amp;style=none&amp;title=&amp;width=549" alt="" /></p><p>“当有 10 张以上的同色牌就可以随时染手”，这么说是不对的。例 2 就有 10 张饼子，但这里应该果断切掉发。这个牌是一副立直平和牌，根据摸牌还可以有可能形成断幺、三色或者一气贯通。这牌即使不去染手也已经很不错了，所以没有去染手的必要。为了染手去染手，这样打牌是非常危险的。<strong>破坏已经形成的面子而去强行染手迟早是会死的很惨的</strong>。</p><p><strong>总结</strong>：</p><ul><li><strong>不用染手的牌不要强行去染手，为染手去拆已经形成的面子是禁止的</strong>。</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607609420636-855f2e2d-ac01-4c71-80fc-94098b39a112.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=60&amp;id=KEmpS&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=60&amp;originWidth=551&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12882&amp;status=done&amp;style=none&amp;title=&amp;width=551" alt="" /></p><p>但是，麻将中也是常常有例外的。像例 3 这种牌，染手能够让打点大幅上升。容易和牌的话就果断把饼子拆掉了吧。</p><p>但这是非常少数的例外，在平场几乎没有应该拆掉一面子而去染手的牌。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607609533257-c20c102a-dfaa-4ad2-b7ff-0705d1271882.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=83&amp;id=k4rc2&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=83&amp;originWidth=527&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=12914&amp;status=done&amp;style=none&amp;title=&amp;width=527" alt="" /></p><p>有两个役牌的对子，应该向这某一种花色前进作满贯。虽然例 4 有一个含有宝牌的搭子，但仍旧应该向着条子的混一色前进。但是有一点需要注意。初学者很多都会选择把宝牌 4 万先切掉。这就搞的太过火了。<strong>混一色的缺点就是容易暴露，从宝牌开始拆嵌张的话，其他人就几乎能看出你是条子混一色从而有所警觉了</strong>。好不容易有手好牌，一般从不起眼的 2 饼开始切，这样会稍微容易和牌一些。虽说染手是主线，但是还是要保留摸到 3 万的可能性。</p><p><strong>总结</strong>：</p><ul><li><strong>有两个役牌对子的话，尽可能的染手作满贯</strong>。</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/png/1392849/1607609638736-52bc3c63-eced-4ae0-9bd6-3aafc5b3b89b.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=63&amp;id=N5So3&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=63&amp;originWidth=545&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=14466&amp;status=done&amp;style=none&amp;title=&amp;width=545" alt="" /></p><p>现在南是客风，坦白的说这是一手垃圾牌，不过仍可选择作条子的混一色。首先从 5 饼开始切，反正这手靠他也和不了。当混一色相当遥远有可能中途弃和的时候，从真中间的牌开始切让对手提高警惕从而巩固自己的防守也是一种打法。由于鸣牌比较醒目，考虑到防守能力的话还是不要去鸣牌了。只要白和北没有重叠，这里最好采取不急于和牌的方针。初学者有时会在第一张南出现的时候就碰，但这里必须要注意到这个牌和牌的机会是很小的。“这个牌不和也没关系”，拥有这份淡定也是非常重要的。</p><p><strong>总结</strong>：</p><ul><li><strong>很痛苦的混一色要重视防守，没有见到和牌希望之前不要轻易鸣牌</strong>。</li></ul><h2 id="简易版防守"><a class="markdownIt-Anchor" href="#简易版防守"></a> 简易版防守</h2><h3 id="1-防守的基本"><a class="markdownIt-Anchor" href="#1-防守的基本"></a> 1. 防守的基本</h3><p>麻将中理想的防守就是除了铳牌，其他的牌照切不误。但是实际上这是不可能的。虽然可以根据自己的读牌，把对手所听的牌扣住。<strong>但是实际上读牌的准确率连 30% 都不到</strong>。对手是否听牌对于防守是非常重要的。这是理所当然的咯，对手还没有听牌，因此切什么牌都是不会放铳的。因此，<strong>防守的重点就是立直的处理</strong>。有人立直，也就告诉了我们 他已经听牌了，所以不是这么轻易就能放铳的。</p><h4 id="防守与进攻的战略"><a class="markdownIt-Anchor" href="#防守与进攻的战略"></a> 防守与进攻的战略</h4><p>分为五个战略（从上到下依次从安全到危险）：</p><ul><li>弃和：放弃自己和牌，彻底地进入防守状态。防守的基本就是弃和。</li><li>兜牌：一边避免放铳，一边向着听牌或者和牌前进的打法。由于在被限制的情况下做牌，其实是挺难的。</li><li>一定程度的进攻</li><li>全攻</li><li>故意放铳</li></ul><h4 id="防守需要重视"><a class="markdownIt-Anchor" href="#防守需要重视"></a> 防守需要重视</h4><p>常常有人说，初学者就先学会弃和吧。毕竟弃和容易学习，而且是直接与成绩关联的技术。初学者和中级者常常都攻的太过火了。进入弃和状态，也就进入了不太有趣的麻将时间了。但是，想要变得更强的话。这个能力的强化是必须的。</p><h3 id="2-安全牌"><a class="markdownIt-Anchor" href="#2-安全牌"></a> 2. 安全牌</h3><p>例如下图中，面对上家这样的立直，切什么牌才不会放铳呢？</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907894400-ae18e9c9-7db1-4bda-b81b-49c6567efc6c.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=414&amp;id=pCTuB&amp;originHeight=414&amp;originWidth=392&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=392" alt="" /></p><h4 id="对手切掉的牌"><a class="markdownIt-Anchor" href="#对手切掉的牌"></a> 对手切掉的牌</h4><p>日本麻雀中有一个原则：振听状态是不能够荣和的。<strong>所以对手切掉的牌都是安全的</strong>。上图的情况，289 万、149 饼、149 条、南风、白板、红中就符合这个条件。</p><h4 id="立直之后通过的牌"><a class="markdownIt-Anchor" href="#立直之后通过的牌"></a> 立直之后通过的牌</h4><p>另外，<strong>立直之后所通过一次的牌（即立直之后他家再打出的未放铳牌）都不能够荣和</strong>。所以对家已经通过的 7 饼和下家通过的 5 万也是不能被荣和的牌。像这些被振听规则规定不能荣和的明确的牌就叫做<strong>现物</strong>。</p><h4 id="完全安全牌"><a class="markdownIt-Anchor" href="#完全安全牌"></a> 完全安全牌</h4><p>除了现物之外，还有其他 100% 安全的牌。那就是现在摸到的这张發。由于场上已经切出了 3 张，不会有双碰和单骑听牌。而且对手也不是国士无双，所以是一张完全安全牌。完全安全牌有以下 4 种：</p><ul><li><strong>其他 3 人各自都切过一张的牌（3 家现物）</strong>。</li><li><strong>上家刚刚切过的牌（也是 3 家现物）</strong>。</li><li><strong>没有国士无双听牌时，第四张字牌</strong>。</li><li><strong>完全的 NO CHANCE</strong>。</li></ul><p>上图的例子的安全牌已经很充分了。想要避免放铳的话还是很容易的。但是，安全牌不是什么时候都有的。因此，“<strong>筋</strong>”和“<strong>壁</strong>”就比较重要了。</p><h3 id="3-筋"><a class="markdownIt-Anchor" href="#3-筋"></a> 3. 筋</h3><p>有人立直的时候，最应该警戒的就要是两面听牌了。只要对手不是麻将的初学者，一般情况下都会等待嵌张、双碰听牌变化成两面听牌。因为对手会等待嵌张和双碰听牌变化成两面的好形听牌，所以听牌了也有可能不会立直。因此立直的听牌形往往是两面居多，大体的数据显示，所有的立直中三分之二的立直都是两面听牌。<strong>为了不铳两面听牌的理论就叫做“筋”</strong>。</p><h4 id="6-个基本筋"><a class="markdownIt-Anchor" href="#6-个基本筋"></a> 6 个基本筋</h4><p>我们来看看实际的两面听牌吧。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907894476-2d805dec-e9e9-46ec-9d69-e94360a02f61.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=221&amp;id=r27Wq&amp;originHeight=294&amp;originWidth=209&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=157" alt="" /></p><p>以上六组就是两面听牌的所有形。这六组需要全部记住。要记住这六组应该是非常容易的。</p><h4 id="3-条大筋"><a class="markdownIt-Anchor" href="#3-条大筋"></a> 3 条大筋</h4><p>看了上面的六组听牌，我们可以发现，1-4 与 4-7、2-5 与 5-8、3-6 与 6-9 之间有相连的地方。这样就可以推导出三面张的筋。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907894547-bda1da4b-8e13-478f-86de-1a16b8c189a6.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=111&amp;id=DssRy&amp;originHeight=148&amp;originWidth=320&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=240" alt="" /></p><p>把基本两面听牌组合起来就可以形成三面听牌。正是因为这样， 6 组基本的筋可以看作 3 条大筋。</p><ul><li>1-4-7（一四七）</li><li>2-5-8（二五八）</li><li>3-6-9（三六九）</li></ul><p>6 个筋分为 3 条大筋是非常重要的。大家把筋的概念作为麻将的一个常识来记住。</p><h4 id="根据筋我们能知道什么"><a class="markdownIt-Anchor" href="#根据筋我们能知道什么"></a> 根据筋我们能知道什么</h4><ul><li>自己切过自己所听的牌即会振听，不能荣和。</li><li>麻将中的两面听牌只有六种 1-4、2-5、3-6、4-7、5-8、6-9。</li></ul><p>由以上两点，我们就可以知道什么牌不会铳两面听牌。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907894619-34c52ef9-80e9-4b55-a172-aed843f3f0c4.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=411&amp;id=ECuvI&amp;originHeight=411&amp;originWidth=391&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=391" alt="" /></p><p>我们再来看看这个例子吧。对家切 7 饼以及下家切的 5 万都通过了。这就是通过筋得出的判断。由于立直的上家切掉了 4 饼，所以至少他不是 56 饼的两面听牌，即使是也会振听。所以切 7 饼至少不会铳两面听牌。</p><p>下家切的 5 万，是有 2 、 8 万所推导出的筋。5 万虽然可以有 34 万和 67 万两面听牌荣和，但是上家切掉了 2 万和 8 万，所以不管是 34 万还是 67 万都会振听。因此 5 万也可以说是一张安全牌。总结起来便是：</p><ul><li><strong>表筋和两筋不会放铳两面听</strong>；</li><li><strong>表筋和两筋会放铳双碰听</strong>；</li><li><strong>大部分听牌是两面听</strong>。</li></ul><h4 id="表筋"><a class="markdownIt-Anchor" href="#表筋"></a> 表筋</h4><p>麻将里，两面听是最多的，两面听的组合几乎是固定的：即 BC 听 AD，这样的组合。当一家打过 X（X = 4 或 5 或 6）的场合，X - 3 和 X + 3 的牌不会点两面听（即使他听这个，也是振听，无法荣和）。<strong>表筋不会放铳两面听</strong>。即：</p><ul><li>一家打过 4，则 1、7 是表筋；</li><li>一家打过 5，则 2、8 是表筋；</li><li>一家打过 6，则 3、9 是表筋。</li></ul><h4 id="两筋"><a class="markdownIt-Anchor" href="#两筋"></a> 两筋</h4><p>两筋又称中筋，是这样的情况：X （X = 4 或 5 或 6），当一家同时打过 X - 3 和 X + 3 时，X 是两筋。<strong>两筋安全度和表筋一样</strong>。即：</p><ul><li>一家打过 1 和 7，则 4 是两筋；</li><li>一家打过 2 和 8，则 5 是两筋；</li><li>一家打过 3 和 9，则 6 是两筋。</li></ul><h4 id="半筋"><a class="markdownIt-Anchor" href="#半筋"></a> 半筋</h4><p>两筋的弱化版，一家只打过 X - 3 或 X + 3 中的一张（同时打过 2 张则是两筋了）。<strong>半筋安全度比两筋和表筋弱很多</strong>。即：</p><ul><li>一家打过 1 或 7，则 4 是半筋；</li><li>一家打过 2 或 8，则 5 是半筋；</li><li>一家打过 3 或 9，则 6 是半筋。</li></ul><p>比如：</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907894695-1f70396a-bdc2-4206-b9a4-f7d3864f5531.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=38&amp;id=hVDKb&amp;originHeight=38&amp;originWidth=156&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=156" alt="" /></p><p>这个立直切掉了 6 万，所以 39 万就是表筋。只要不是两面听牌，还多少是安全的。</p><p>但是，8 条通过了并不代表 5 条就是安全的。这个半筋，经常看到有人切，其实是不靠谱的。对手切出的 8 条仅能排除 67 条的两面听，此时打 5 条还可能放 34 条两面听的铳。只有当对手再打出 2 条时，才能排除 34 条两面听，使 5 条成为安全的两筋。</p><p>不过尽管 5 条只是半筋，其和无筋的 5 饼相比，还是要安全一些。</p><h4 id="引筋"><a class="markdownIt-Anchor" href="#引筋"></a> 引筋</h4><p>又称引挂、骗筋，就是特意听表筋或两筋，来诱导他人放铳。例：手里有 246 饼，打 6 饼立直，听 3 饼。由此我们可以得出：<strong>立直宣言牌的筋可信度较低</strong>。</p><h4 id="老头牌与筋"><a class="markdownIt-Anchor" href="#老头牌与筋"></a> 老头牌与筋</h4><p>假如对手立直的手牌如下图所示：</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907894769-22ab1dd2-f4a5-4d46-a539-d0abe1929292.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=39&amp;id=rhJ4V&amp;originHeight=39&amp;originWidth=233&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=233" alt="" /></p><p>对手切掉了 6 万，所以， 39 万是筋牌。如果我们手上同时有 39 万，那到底该打什么呢？我们来分析一下：</p><ul><li>能和 3 万的听牌型有：3 万单骑或者双碰，以及 12 万或者 24 万的边张嵌张；</li><li>能和 9 万的听牌型有：9 万单骑或者双碰。</li></ul><p>由于没有边张、嵌张的可能，因此 9 万要比 3 万安全一点。所以这里就切掉 9 万。</p><p><strong>总结</strong>：</p><ul><li><strong>筋幺九牌没有边张和嵌张听牌型，所以要比其他的筋更安全</strong>。</li></ul><h4 id="宝牌与筋"><a class="markdownIt-Anchor" href="#宝牌与筋"></a> 宝牌与筋</h4><p>假如对手立直的手牌和自己的手牌如下图所示：</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907894836-23918940-cdd3-4bfa-93ce-8d0e37586825.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=111&amp;id=vHP4O&amp;originHeight=111&amp;originWidth=470&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=470" alt="" /></p><p>对手切掉了 5 饼，我们手中的 2 饼和 8 饼就是筋牌。</p><ul><li>2 饼的听牌型有 2 饼单骑、双碰以及 13 饼嵌张；</li><li>8 饼的听牌型有 8 饼单骑、双碰以及 79 饼嵌张。</li></ul><p>但是由于 1 饼是宝牌，所以嵌 2 饼的可能性更大，也更危险。比如 135 饼，切 5 饼立直（引筋）等等情况。所以此时我们应该切 8 饼。</p><p><strong>总结</strong>：</p><ul><li><strong>宝牌周边的牌，即使是筋牌也是危险的。筋牌引挂的立直还是比较多的</strong>。</li></ul><h3 id="4-壁"><a class="markdownIt-Anchor" href="#4-壁"></a> 4. 壁</h3><h4 id="几种常见的壁"><a class="markdownIt-Anchor" href="#几种常见的壁"></a> 几种常见的壁</h4><p><strong>单壁</strong>：例如当 3 饼在你可以看到的任何地方（包括你的手牌、牌池、副露、宝牌指示牌）合计出现 4 张的时候，与 3 饼有关的 23 饼和 34 饼两面听就不可能存在。则 3 饼外侧的 12 饼安全度等同于字牌（只放铳双碰和单骑），又被称为 <strong>NO CHANCE</strong>，即：</p><ul><li>2 成壁，则 1 安全；</li><li>3 成壁，则 1、2 安全；</li><li>4 成壁，则 2、3 较安全（可能会放铳边张或嵌张，但不会放铳两面）；</li><li>5 成壁，则 3、7 较安全（同上）；</li><li>6 成壁，则 7、8 较安全（同时）；</li><li>7 成壁，则 8、9 安全；</li><li>8 成壁，则 9 安全。</li></ul><p><strong>双壁</strong>：当然也有双壁的情况，即：</p><ul><li>1 和 4 成壁，则 2、3 安全；</li><li>2 和 5 成壁，则 3、4 安全；</li><li>3 和 6 成壁，则 4、5 安全；</li><li>4 和 7 成壁，则 5、6 安全；</li><li>5 和 8 成壁，则 6、7 安全；</li><li>6 和 9 成壁，则 7、8 安全。</li></ul><p><strong>薄壁</strong>：成为壁的不是 4 张，而是 3 张。<strong>薄壁的安全度很低</strong>，因为最后一张很可能被停牌的人捏在手里。又被称为 <strong>ONE CHANCE</strong>。ONE CHANCE 在早巡还是可信的，但是在终盘千万不要信。</p><p>此外还有<strong>双重 ONE CHANCE</strong>，比如 7 饼和 8 饼场上都已经出现了三张，对手要同时拿到唯一的一张 7 饼和 8 饼的概率是很低的，所以 9 饼是相当安全的牌。</p><p><strong>总结</strong>：</p><ul><li><strong>安全度的比较：NO CHANCE &gt; 双重 ONE CHANCE &gt; ONE CHANCE</strong>。</li></ul><h4 id="壁的运用"><a class="markdownIt-Anchor" href="#壁的运用"></a> 壁的运用</h4><p>我们在实战中来利用壁寻找安全牌。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/jpg/1392849/1608907894909-22d049da-ec84-458f-b4f4-4e3899147b60.jpg#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=375&amp;id=p63oE&amp;originHeight=500&amp;originWidth=501&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;status=done&amp;style=none&amp;title=&amp;width=376" alt="" /></p><p>虽然这个牌切现物的 9 万也不错，不过还是切 9 饼吧。场上已经见到四张 8 饼，所以不会有两面听牌。况且四张 9 饼也都出现了，所以不会有双碰和单骑听牌。当然除了国士无双之外是 100% 通过的。</p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>立直麻将规则简介</title>
    <link href="/2022/01/25/%E7%AB%8B%E7%9B%B4%E9%BA%BB%E5%B0%86%E8%A7%84%E5%88%99%E7%AE%80%E4%BB%8B/"/>
    <url>/2022/01/25/%E7%AB%8B%E7%9B%B4%E9%BA%BB%E5%B0%86%E8%A7%84%E5%88%99%E7%AE%80%E4%BB%8B/</url>
    
    <content type="html"><![CDATA[<h2 id="1-基本概念"><a class="markdownIt-Anchor" href="#1-基本概念"></a> 1. 基本概念</h2><h3 id="11-麻将牌"><a class="markdownIt-Anchor" href="#11-麻将牌"></a> 1.1. 麻将牌</h3><p>在立直麻将中，共有 34 种基本的麻将牌，一整套麻将牌种每种牌各有 4 张，共 136 张。其中「<strong>序数牌</strong>」有三种花色，分别为「<strong>饼</strong>」（筒）、「<strong>条</strong>」（索）、「<strong>万</strong>」，每种花色从 1 到 9：</p><ul><li><strong>饼</strong>：<img src="https://cdn.nlark.com/yuque/0/2020/gif/1392849/1607051347556-09b9a1a1-1752-4072-b18c-82c29ac9fc3f.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=60&amp;id=QpDz8&amp;originHeight=60&amp;originWidth=424&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=0&amp;status=done&amp;style=none&amp;title=&amp;width=424" alt="" /></li><li><strong>条</strong>：<img src="https://cdn.nlark.com/yuque/0/2020/gif/1392849/1607051388905-e2bf7697-97ab-48ae-bed9-d755d7f199aa.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=60&amp;id=Z4xGU&amp;originHeight=60&amp;originWidth=424&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=0&amp;status=done&amp;style=none&amp;title=&amp;width=424" alt="" /></li><li><strong>万</strong>：<img src="https://cdn.nlark.com/yuque/0/2020/gif/1392849/1607051656318-127a3ff5-6cec-4a27-805b-72a9d985e7ba.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=59&amp;id=MtJkB&amp;originHeight=59&amp;originWidth=424&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=0&amp;status=done&amp;style=none&amp;title=&amp;width=424" alt="" /></li></ul><p>除了序数牌之外，还有 7 种不同的「<strong>字牌</strong>」：四种「<strong>风牌</strong>」（东南西北）和三种「<strong>三元牌</strong>」（中发白）。</p><ul><li><strong>风牌</strong>：<img src="https://cdn.nlark.com/yuque/0/2020/gif/1392849/1607051810348-a2b9b980-0f86-48fa-8783-63d6653e9af8.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=69&amp;id=CALtF&amp;originHeight=69&amp;originWidth=220&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=0&amp;status=done&amp;style=none&amp;title=&amp;width=220" alt="" /></li><li><strong>三元牌</strong>：<img src="https://cdn.nlark.com/yuque/0/2020/gif/1392849/1607051850348-171b572c-76d7-4b86-9ed8-eb2b8d2264e2.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=67&amp;id=Cxf9z&amp;originHeight=67&amp;originWidth=160&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=0&amp;status=done&amp;style=none&amp;title=&amp;width=160" alt="" /></li></ul><p>此外，字牌和序数牌中的 1、9 合称为「<strong>幺九牌</strong>」（包括 19 饼、19 条、19 万、东南西北中发白）。</p><h3 id="12-基本和牌型"><a class="markdownIt-Anchor" href="#12-基本和牌型"></a> 1.2. 基本和牌型</h3><p>麻将的「<strong>基本和牌型</strong>」为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>×</mo><mi>A</mi><mi>B</mi><mi>C</mi><mo>+</mo><mi>n</mi><mo>×</mo><mi>D</mi><mi>D</mi><mi>D</mi><mo>+</mo><mi>E</mi><mi>E</mi></mrow><annotation encoding="application/x-tex">m \times ABC + n \times DDD + EE</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mord mathdefault" style="margin-right:0.02778em;">D</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span><span class="mord mathdefault" style="margin-right:0.05764em;">E</span></span></span></span>，其中 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>m</mi><mo>+</mo><mi>n</mi><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">m+n=4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord mathdefault">m</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span>。也就是说和牌的时候手中共有 14 张牌。其中：</p><ul><li>形如“ABC”的三张连续的牌称为「<strong>顺子</strong>」；</li><li>形如“DDD”的三张相同的牌称为「<strong>刻子</strong>」；</li><li>形如“EE”的两张相同的牌成为「<strong>雀头</strong>」；</li><li>顺子和刻子合称为「<strong>面子</strong>」；</li><li>「<strong>基本和牌型</strong>」包括 4 组面子和 1 组雀头。</li></ul><p>在立直麻将中只有「<strong>七对子</strong>」和「<strong>国士无双</strong>」两类和牌不符合基本和牌型，其他和牌均以做成基本和牌型为前提。</p><h2 id="2-游戏准备"><a class="markdownIt-Anchor" href="#2-游戏准备"></a> 2. 游戏准备</h2><h3 id="21-砌牌"><a class="markdownIt-Anchor" href="#21-砌牌"></a> 2.1. 砌牌</h3><p>在每局游戏开始时，将所有麻将牌混洗好并背面朝上码成牌山的过程。每位玩家都要在自己面前码牌，长度为 17 墩，每墩上下各一张。这些码好的牌被称为牌「<strong>牌山</strong>」。</p><p><img src="https://cdn.nlark.com/yuque/0/2020/gif/1392849/1607052142070-702be9c9-782d-4359-946b-24075eaeb7d0.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=150&amp;id=qcMyo&amp;originHeight=150&amp;originWidth=400&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=0&amp;status=done&amp;style=none&amp;title=&amp;width=400" alt="" /></p><h3 id="22-开牌"><a class="markdownIt-Anchor" href="#22-开牌"></a> 2.2. 开牌</h3><p>将牌山码好之后，由本局庄家掷两枚骰子，根据掷出的数目，由庄家起逆时针数至某家，此玩家即在面前的牌山中开牌。开门的位置是从牌山的右侧数起，数至与骰子掷出数目相同的墩数，分开此墩与其右侧的一墩牌。开牌点左侧的两墩即为庄家第一轮配入的牌。例如庄家掷出的数字是 11，则北家按图中所示开牌：</p><p><img src="https://cdn.nlark.com/yuque/0/2020/gif/1392849/1607052197153-fb59d69a-4f8f-4b19-a886-23ec31a7dd16.gif#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=150&amp;id=DljXg&amp;originHeight=150&amp;originWidth=400&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=0&amp;status=done&amp;style=none&amp;title=&amp;width=400" alt="" /></p><h3 id="23-王牌"><a class="markdownIt-Anchor" href="#23-王牌"></a> 2.3. 王牌</h3><p>在开门位置右侧的 7 墩 14 张牌组成「<strong>王牌</strong>」。王牌并不用来摸牌，而是用来开岭上牌和翻出宝牌指示牌。</p><p>「<strong>岭上牌</strong>」是王牌最靠近开门位置的两墩 4 张，用来在开杠时补入手牌。由于岭上牌仅有 4 张，因此一局中开杠的最大数目也被限制为 4 次，超过的杠一律不得开出，也有四杠流局的规定。</p><p>「<strong>宝牌指示牌</strong>」是从开门位置起在王牌中数出第三墩，翻开此墩的上张牌，此牌为宝牌指示牌，用于指示游戏每局中的宝牌。如果宝牌指示牌是序数牌，那么宝牌就是同种花色的下一张牌。例如，如果宝牌指示牌是 6 条，宝牌就是 7 条。如果指示牌是 9，宝牌就是同样花色的 1。如果指示牌是三元牌，宝牌也是三元牌，按照以下顺序：红中指向白板，白板指向发财，发财指向红中（即白-发-中-白的顺序）。对于风牌来说，同样地，按照以下顺序：东-南-西-北-东。</p><h3 id="24-配牌"><a class="markdownIt-Anchor" href="#24-配牌"></a> 2.4. 配牌</h3><p>开牌之后庄家先从牌墙抓两墩共 4 张牌。随后，南家取得在其左侧的两墩 4 张牌，并依次向下直至每人均配入两墩 4 张牌。庄家再继续顺时针配入两墩牌，然后重复上述过程，直至每人配入 12 张牌。庄家取得剩余牌山中顺次第一墩和第三墩的上张牌共 2 张，其他闲家依次各取 1 张。最终庄家共配牌 14 张，闲家配牌 13 张。</p><h2 id="3-游戏进行"><a class="markdownIt-Anchor" href="#3-游戏进行"></a> 3. 游戏进行</h2><h3 id="31-摸打"><a class="markdownIt-Anchor" href="#31-摸打"></a> 3.1. 摸打</h3><p>配牌结束后，即进入摸打环节。先由庄家从 14 张手牌中打出 1 张，接着庄家的下家从牌山中顺序摸入一张，再打出一张，并以此顺序类推，直至有人和牌或流局。每一轮摸打被称为一「<strong>巡</strong>」。在特定条件下，可以取得其他玩家的舍牌，即副露。</p><h3 id="32-副露"><a class="markdownIt-Anchor" href="#32-副露"></a> 3.2. 副露</h3><p>「<strong>副露</strong>」是指玩家利用别家打出的牌完成自己手牌的面子的行为。副露包括「<strong>吃牌</strong>」，「<strong>碰牌</strong>」和「<strong>杠牌</strong>」。取得别家打出的牌以完成和牌的荣和不是副露。进行副露的行为也被称为「<strong>鸣牌</strong>」。 如果没有副露，则手牌处于「<strong>门前清</strong>」状态。副露的优先顺序为和牌 &gt; 杠牌 &gt; 碰牌 &gt; 吃牌。</p><ul><li><strong>吃牌</strong>：当手牌中存在搭子的时候，取得「<strong>上家</strong>」的打牌以完成顺子的行为被称为吃牌。进行吃牌的顺序是：<ul><li>在上家打牌后喊出吃；</li><li>将手牌中已有的两张公开，并将三张一起放置在桌上右侧；</li><li>打出任何一张。吃牌须将吃入的牌横置以明确表明。</li></ul></li><li><strong>碰牌</strong>：手牌中存在两张一组的对子时，取得「<strong>其他玩家</strong>」打出的第三张以组成明刻子的行为被称为碰牌。进行碰牌的顺序是：<ul><li>在其他玩家打牌后喊出碰；</li><li>将手牌中已有的两张公开，并将三张一起放置在桌上右侧；</li><li>打出任何一张。同吃牌一样，碰牌也需将特定牌横置以表明碰牌的对象。</li></ul></li><li><strong>杠牌</strong>：杠是指麻将进行中构成杠子的行为。大体可以分为「<strong>大明杠</strong>」、「<strong>暗杠</strong>」、「<strong>加杠</strong>」三种。大明杠和加杠合称明杠。在杠牌之后，玩家从岭上牌额外摸一张牌，然后再打出任何一张牌。杠子在和牌中的作用与刻子相同。<ul><li><strong>暗杠</strong>：暗杠是指本方手牌中有 4 张一样的牌，将其组成杠子的行为。</li><li><strong>大明杠</strong>：大明杠是指当己方手牌已有暗刻子，取得其他玩家打出第四张牌时组成的杠子。</li><li><strong>加杠</strong>：加杠是在己方通过碰牌取得明刻之后，摸入第四张牌而组成的杠子，又称小明杠。</li></ul></li></ul><h3 id="33-听牌"><a class="markdownIt-Anchor" href="#33-听牌"></a> 3.3. 听牌</h3><p>「<strong>听牌</strong>」指玩家的手牌只差一张即构成和牌的情形。在立直麻将中，必须特别注意振听的情况。</p><p>「<strong>振听</strong>」是立直麻将的特有规则，指某些情况下玩家的和牌会受到限制的规则。触发振听主要包括以下三种情况：</p><ul><li><strong>舍牌振听</strong>：玩家手牌和自己打出的任何牌，包括被其他玩家用作副露的牌，可凑成和牌。</li><li><strong>同巡振听</strong>：听牌（未立直）后玩家放过了别家打出的放铳牌。</li><li><strong>立直振听</strong>：玩家立直后，放过了别家打出的放铳牌，或打出了自摸牌。（此处可以先不必了解「<strong>立直</strong>」这一相关操作）</li></ul><h3 id="34-和牌"><a class="markdownIt-Anchor" href="#34-和牌"></a> 3.4. 和牌</h3><p>当任意一名玩家「<strong>和牌</strong>」时，本局结束并进行点数结算。立直麻将的和牌要求包括：</p><ul><li>满足本局的起和番数要求：一般是 1 番，即要求和牌牌型必须有一个以上的役。需要注意的是宝牌虽然在计算点数时算番，但是单凭宝牌的番数是无法和牌的。</li><li>没有处在振听状态：玩家和牌时未振听，或者虽处于振听状态下但自摸和牌。</li></ul><p>与其他规则相似，立直麻将的和牌方式也分为两种。一种是自己摸上所听的牌，称为「<strong>自摸</strong>」；另一种是和别家打出的舍牌，称为「<strong>荣和</strong>」。此时称这张舍牌为铳牌，打出这张铳牌的玩家的行为称为「<strong>放铳</strong>」。</p><h3 id="35-流局"><a class="markdownIt-Anchor" href="#35-流局"></a> 3.5. 流局</h3><p>流局是指在没有和牌的情况下一局结束。流局时没有胜者，但仍可能发生点数的收付。流局具体可以分为「<strong>荒牌流局</strong>」和「<strong>途中流局</strong>」两种。</p><ul><li><strong>荒牌流局</strong>：当除了王牌以外的所有牌都已经被摸打完，而又没有人和牌的情况下，即构成荒牌流局，也被简称为荒牌。</li><li><strong>途中流局</strong>：当一局中满足某些条件时，可以宣布途中流局，此局立即结束。途中流局包括强制流局和选择流局，主要的途中流局条件包括：<ul><li><strong>九种九牌</strong>：配牌后、第一巡内，某玩家手牌中包括 9 种及以上的幺九牌，此时该玩家可以选择公开手牌并宣布流局。</li><li><strong>四杠散了</strong>：一局途中四家共开出四个杠（含大明杠，暗杠，加杠），强制流局。但须注意的是如果四个杠是由同一家开出则并非流局而是役满四杠子。</li><li><strong>四风连打</strong>：第一巡中四家连续打出同一张风牌，强制流局。</li><li><strong>四家立直</strong>：四家相继宣布立直，强制流局。</li></ul></li></ul><p>在和牌或流局时，一局结束，之后将清算本局得点，并进入下一局或本局下一本场。</p><h2 id="4-役种及其番数概览"><a class="markdownIt-Anchor" href="#4-役种及其番数概览"></a> 4. 役种及其番数概览</h2><h3 id="41-一番"><a class="markdownIt-Anchor" href="#41-一番"></a> 4.1. 一番</h3><h4 id="断幺九"><a class="markdownIt-Anchor" href="#断幺九"></a> 断幺九</h4><p>手牌中不包含幺九牌（19 万、19 筒、19 条和字牌）</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605360208099-c480fedc-e173-437e-ac51-9ee87aa2698e.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=MNEAF&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1600&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=159240&amp;status=done&amp;style=none&amp;title=&amp;width=800" alt="" /></p><h4 id="役牌"><a class="markdownIt-Anchor" href="#役牌"></a> 役牌</h4><p>包含场风牌、自风牌或三元牌（白、发、中）的刻子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605360496125-a69f8670-7c6b-4328-8997-1ab3323f6d47.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=84&amp;id=sYCGw&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=168&amp;originWidth=1536&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=176809&amp;status=done&amp;style=none&amp;title=&amp;width=768" alt="" /><br /><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605360536102-b0ba3881-bb4f-4aa9-a4ce-1d882696fbb7.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=84&amp;id=uFOVa&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=168&amp;originWidth=1536&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=161199&amp;status=done&amp;style=none&amp;title=&amp;width=768" alt="" /></p><h4 id="门前清自摸和"><a class="markdownIt-Anchor" href="#门前清自摸和"></a> 门前清自摸和</h4><p><em>门前清限定</em></p><p>门前清状态下自摸和牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605360736695-7aa16dfb-78fd-42ef-b34a-7a8079ef1108.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=84&amp;id=DciRp&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=168&amp;originWidth=1476&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=141474&amp;status=done&amp;style=none&amp;title=&amp;width=738" alt="" /></p><h4 id="立直"><a class="markdownIt-Anchor" href="#立直"></a> 立直</h4><p><em>门前清限定</em></p><p>声明立直，横置打出牌，以后不能再改变手牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605361117540-7e72639e-25c8-437c-b6db-a62869c68560.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=ZMRCT&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1476&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=151632&amp;status=done&amp;style=none&amp;title=&amp;width=738" alt="" /></p><ul><li>如果打出的立直牌被吃、碰或明杠，则下张牌横置</li><li>立直后可暗杠</li><li>计算里宝牌</li></ul><h4 id="一发"><a class="markdownIt-Anchor" href="#一发"></a> 一发</h4><p><em>门前清限定</em></p><p>立直后一巡内，无人鸣牌的情况下和牌</p><h4 id="平和"><a class="markdownIt-Anchor" href="#平和"></a> 平和</h4><p><em>门前清限定</em></p><p>四组顺子和非役牌的雀头，且听牌状态是顺子的两面听</p><h4 id="一杯口"><a class="markdownIt-Anchor" href="#一杯口"></a> 一杯口</h4><p><em>门前清限定</em></p><p>两组完全一样的顺子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605361432632-1b6d627f-a5fa-4ed1-ad52-8f083d3dc2da.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=wuHfn&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1476&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=175412&amp;status=done&amp;style=none&amp;title=&amp;width=738" alt="" /></p><h4 id="岭上开花"><a class="markdownIt-Anchor" href="#岭上开花"></a> 岭上开花</h4><p>用杠后摸到的岭上牌和牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605361547620-07d23fe8-5ab2-4d5f-92b6-5d6b7581c65c.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=86&amp;id=RHTgo&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=172&amp;originWidth=1614&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=188780&amp;status=done&amp;style=none&amp;title=&amp;width=807" alt="" /></p><h4 id="抢杠"><a class="markdownIt-Anchor" href="#抢杠"></a> 抢杠</h4><p>用别家加杠的牌荣和（注：国士无双可抢暗杠）</p><h4 id="海底摸月"><a class="markdownIt-Anchor" href="#海底摸月"></a> 海底摸月</h4><p>最后一张牌自摸和牌</p><h4 id="河底捞鱼"><a class="markdownIt-Anchor" href="#河底捞鱼"></a> 河底捞鱼</h4><p>最后一张牌荣和</p><h4 id="宝牌"><a class="markdownIt-Anchor" href="#宝牌"></a> 宝牌</h4><p><em>不是役</em></p><p>宝牌指示牌的下一张牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605361883574-c8dc4860-2ebd-4460-b050-6fab45c057b4.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=86&amp;id=jmYSU&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=172&amp;originWidth=656&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=31905&amp;status=done&amp;style=none&amp;title=&amp;width=328" alt="" /></p><ul><li>顺序：一&gt;二&gt;三&gt;四&gt;五&gt;六&gt;七&gt;八&gt;九&gt;一，东&gt;南&gt;西&gt;北&gt;东，白&gt;发&gt;中&gt;白</li><li>立直计算里宝牌</li></ul><h3 id="42-二番"><a class="markdownIt-Anchor" href="#42-二番"></a> 4.2. 二番</h3><h4 id="对对和"><a class="markdownIt-Anchor" href="#对对和"></a> 对对和</h4><p>有四组刻子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605362350874-f1b5e75b-76ab-491b-87c6-a86889fc16af.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=86&amp;id=dlFBb&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=172&amp;originWidth=1568&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=135187&amp;status=done&amp;style=none&amp;title=&amp;width=784" alt="" /></p><h4 id="七对子"><a class="markdownIt-Anchor" href="#七对子"></a> 七对子</h4><p><em>门前清限定</em></p><p>有七组不同的对子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605362403344-d481ed46-91c1-4906-b887-84cf01da09b0.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=86&amp;id=P6vRh&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=172&amp;originWidth=1480&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=159070&amp;status=done&amp;style=none&amp;title=&amp;width=740" alt="" /></p><h4 id="一气通贯"><a class="markdownIt-Anchor" href="#一气通贯"></a> 一气通贯</h4><p><em>副露减一番</em></p><p>同一色牌有一至九各一张组成三组顺子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605362510988-aa7e1f1b-fda6-44ac-bea5-610a0f23135f.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=89&amp;id=elkQ3&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=178&amp;originWidth=1510&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=153672&amp;status=done&amp;style=none&amp;title=&amp;width=755" alt="" /></p><h4 id="三色同顺"><a class="markdownIt-Anchor" href="#三色同顺"></a> 三色同顺</h4><p><em>副露减一番</em></p><p>万、筒、条均有数字一样的顺子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605362584129-8b594e56-0169-4b2c-ac22-4894ee697a7e.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=Hrypx&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1566&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=156641&amp;status=done&amp;style=none&amp;title=&amp;width=783" alt="" /></p><h4 id="混全带幺九"><a class="markdownIt-Anchor" href="#混全带幺九"></a> 混全带幺九</h4><p><em>副露减一番</em></p><p>四组顺子或刻字均包含幺九牌，再加上幺九牌的雀头，且包含字牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605362701858-4020b98f-0db3-49c8-884f-5abe462c3ad5.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=87&amp;id=uzH05&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=174&amp;originWidth=1570&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=140286&amp;status=done&amp;style=none&amp;title=&amp;width=785" alt="" /></p><h4 id="混老头"><a class="markdownIt-Anchor" href="#混老头"></a> 混老头</h4><p>只包含幺九牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605362823830-97013620-1880-4358-ad30-33bd246847e4.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=ozYkJ&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1600&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=167732&amp;status=done&amp;style=none&amp;title=&amp;width=800" alt="" /></p><h4 id="小三元"><a class="markdownIt-Anchor" href="#小三元"></a> 小三元</h4><p>包含白、发、中其中两种的刻子和剩下一种的雀头</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605362904104-e3ee14c8-14f2-4db3-9707-fd41765c7a52.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=86&amp;id=CyhTo&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=172&amp;originWidth=1574&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=134278&amp;status=done&amp;style=none&amp;title=&amp;width=787" alt="" /></p><h4 id="三杠子"><a class="markdownIt-Anchor" href="#三杠子"></a> 三杠子</h4><p>一人开杠三次</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605362934523-e192b934-7251-4cbc-841f-a8be9e953281.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=87&amp;id=fYX8Y&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=174&amp;originWidth=1882&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=167996&amp;status=done&amp;style=none&amp;title=&amp;width=941" alt="" /></p><h4 id="三色同刻"><a class="markdownIt-Anchor" href="#三色同刻"></a> 三色同刻</h4><p>万、筒、条都有数字相同的刻子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605362967629-512a9d75-8293-493e-a2c7-f97becdedf70.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=87&amp;id=ShGAc&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=174&amp;originWidth=1572&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=139775&amp;status=done&amp;style=none&amp;title=&amp;width=786" alt="" /></p><h4 id="两立直"><a class="markdownIt-Anchor" href="#两立直"></a> 两立直</h4><p><em>门前清限定</em></p><p>无人鸣牌的情况下第一巡内就立直</p><h4 id="三暗刻"><a class="markdownIt-Anchor" href="#三暗刻"></a> 三暗刻</h4><p>拥有三组没有碰的刻子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363127393-48c6ec46-6d91-4446-a09e-0af8930e696a.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=XhIQQ&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1536&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=175585&amp;status=done&amp;style=none&amp;title=&amp;width=768" alt="" /></p><h3 id="43-三番"><a class="markdownIt-Anchor" href="#43-三番"></a> 4.3. 三番</h3><h4 id="二杯口"><a class="markdownIt-Anchor" href="#二杯口"></a> 二杯口</h4><p><em>门前清限定</em></p><p>包含两组一杯口</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363236553-5b8f7822-17f1-4435-bb71-a46bb03d0266.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=87&amp;id=FykDY&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=174&amp;originWidth=1514&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=158671&amp;status=done&amp;style=none&amp;title=&amp;width=757" alt="" /></p><h4 id="纯全带幺九"><a class="markdownIt-Anchor" href="#纯全带幺九"></a> 纯全带幺九</h4><p><em>副露减一番</em></p><p>只有包含老头牌（一九万、一九筒、一九条）的顺子或刻子，和老头牌的雀头</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363389092-c42b871d-3804-4dc7-a97e-4d3ecf280a68.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=86&amp;id=gMLH3&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=172&amp;originWidth=1566&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=169378&amp;status=done&amp;style=none&amp;title=&amp;width=783" alt="" /></p><h4 id="混一色"><a class="markdownIt-Anchor" href="#混一色"></a> 混一色</h4><p><em>副露减一番</em></p><p>有字牌和一种花色的数牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363529828-8c51e20e-6d58-44eb-a5a7-52db697426c7.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=aL0Tu&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1478&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=108213&amp;status=done&amp;style=none&amp;title=&amp;width=739" alt="" /></p><h3 id="44-六番"><a class="markdownIt-Anchor" href="#44-六番"></a> 4.4. 六番</h3><h4 id="清一色"><a class="markdownIt-Anchor" href="#清一色"></a> 清一色</h4><p><em>副露减一番</em></p><p>只包含一种花色的数牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363579323-84f4a01f-5447-4687-9015-d4ae30fdb69f.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=168&amp;id=tYNct&amp;name=image.png&amp;originHeight=168&amp;originWidth=1566&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=91151&amp;status=done&amp;style=none&amp;title=&amp;width=1566" alt="" /></p><h3 id="45-役满"><a class="markdownIt-Anchor" href="#45-役满"></a> 4.5. 役满</h3><h4 id="天和"><a class="markdownIt-Anchor" href="#天和"></a> 天和</h4><p>庄家第一巡和牌</p><h4 id="地和"><a class="markdownIt-Anchor" href="#地和"></a> 地和</h4><p>闲家在无人鸣牌的情况下第一巡内自摸和</p><h4 id="大三元"><a class="markdownIt-Anchor" href="#大三元"></a> 大三元</h4><p>包含白、中、发的三组刻子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363695650-e81a190a-9a9e-4b62-ad31-6f4ff8154419.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=83&amp;id=WpTlm&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=166&amp;originWidth=1564&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=112786&amp;status=done&amp;style=none&amp;title=&amp;width=782" alt="" /></p><h4 id="四暗刻"><a class="markdownIt-Anchor" href="#四暗刻"></a> 四暗刻</h4><p><em>门前清限定</em></p><p>拥有四组没有碰的刻子</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363734314-2c197177-a027-4de8-b4b3-d95762086ba1.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=f7YcE&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1478&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=152187&amp;status=done&amp;style=none&amp;title=&amp;width=739" alt="" /></p><h4 id="字一色"><a class="markdownIt-Anchor" href="#字一色"></a> 字一色</h4><p>只有字牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363752506-bedfc5ec-cbf9-4666-94c7-7e13ad4ff6ee.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=87&amp;id=MdGOg&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=174&amp;originWidth=1570&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=94036&amp;status=done&amp;style=none&amp;title=&amp;width=785" alt="" /></p><h4 id="绿一色"><a class="markdownIt-Anchor" href="#绿一色"></a> 绿一色</h4><p>只有二、三、四、六、八条和发</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363788378-f9f283e2-c1f5-4788-8365-3f720ffd4ce5.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=84&amp;id=lIroG&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=168&amp;originWidth=1566&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=130908&amp;status=done&amp;style=none&amp;title=&amp;width=783" alt="" /></p><h4 id="清老头"><a class="markdownIt-Anchor" href="#清老头"></a> 清老头</h4><p>只有老头牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363828466-3cf49afb-abec-49eb-9802-3e5103ae9755.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=84&amp;id=MI8zn&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=168&amp;originWidth=1568&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=203365&amp;status=done&amp;style=none&amp;title=&amp;width=784" alt="" /></p><h4 id="国士无双"><a class="markdownIt-Anchor" href="#国士无双"></a> 国士无双</h4><p><em>门前清限定</em></p><p>十三种幺九牌各一张再加上其中任意一张</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363929713-47a31939-cc5b-4048-9404-c122b41e2d34.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=N0HbV&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1476&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=167746&amp;status=done&amp;style=none&amp;title=&amp;width=738" alt="" /></p><h4 id="小四喜"><a class="markdownIt-Anchor" href="#小四喜"></a> 小四喜</h4><p>有四种风牌中三种的刻子和剩下一种的雀头</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605363962231-d0d21451-26b4-47f7-bb81-dac752f1b332.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=83&amp;id=Spaa1&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=166&amp;originWidth=1566&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=116807&amp;status=done&amp;style=none&amp;title=&amp;width=783" alt="" /></p><h4 id="四杠子"><a class="markdownIt-Anchor" href="#四杠子"></a> 四杠子</h4><p>一人开杠四次</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605364000352-e5501682-3c8d-45c3-984c-86b5104372e7.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=TmteI&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1978&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=164457&amp;status=done&amp;style=none&amp;title=&amp;width=989" alt="" /></p><h4 id="九莲宝灯"><a class="markdownIt-Anchor" href="#九莲宝灯"></a> 九莲宝灯</h4><p><em>门前清限定</em></p><p>同种数字牌有一一一二三四五六七八九九九再加上其中任意一张</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605364082323-e538b1b7-ae6c-4913-bc2d-5c65714b1eb0.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=86&amp;id=Hjymg&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=172&amp;originWidth=1478&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=118872&amp;status=done&amp;style=none&amp;title=&amp;width=739" alt="" /></p><h3 id="46-双倍役满"><a class="markdownIt-Anchor" href="#46-双倍役满"></a> 4.6. 双倍役满</h3><h4 id="四暗刻单骑"><a class="markdownIt-Anchor" href="#四暗刻单骑"></a> 四暗刻单骑</h4><p>四暗刻，且最后单骑听牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605364331084-c8309d6c-0da6-43d3-b45f-503d7749f0f1.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=87&amp;id=oNfKq&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=174&amp;originWidth=1478&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=158960&amp;status=done&amp;style=none&amp;title=&amp;width=739" alt="" /></p><h4 id="国士无双十三面"><a class="markdownIt-Anchor" href="#国士无双十三面"></a> 国士无双十三面</h4><p>国士无双，且最后十三面听牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605364368156-f707d7c1-f209-4dd8-8945-84325995497f.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=liksJ&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1476&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=152810&amp;status=done&amp;style=none&amp;title=&amp;width=738" alt="" /></p><h4 id="纯正九莲宝灯"><a class="markdownIt-Anchor" href="#纯正九莲宝灯"></a> 纯正九莲宝灯</h4><p>九莲宝灯，且最后九面听牌</p><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605364367458-03653f46-83c3-4681-820f-9b7928e67ecf.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=XWW8m&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1474&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=119405&amp;status=done&amp;style=none&amp;title=&amp;width=737" alt="" /></p><h4 id="大四喜"><a class="markdownIt-Anchor" href="#大四喜"></a> 大四喜</h4><p>包含四种风牌的刻子</p><h3 id=""><a class="markdownIt-Anchor" href="#"></a> <img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1605364385097-d6d1707c-4f23-4ed8-8fe4-95fce300e6da.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=85&amp;id=T3m49&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=170&amp;originWidth=1568&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=114752&amp;status=done&amp;style=none&amp;title=&amp;width=784" alt="" /></h3><h2 id="5-计分"><a class="markdownIt-Anchor" href="#5-计分"></a> 5. 计分</h2><h3 id="51-符点"><a class="markdownIt-Anchor" href="#51-符点"></a> 5.1. 符点</h3><ul><li>基本符点为 20 符。</li><li>和牌如果是：<ul><li>坎张 +2 符</li><li>边张 +2 符</li><li>单吊 +2 符</li><li>自摸 +2 符</li><li>门前清荣和 +10 符</li></ul></li><li>雀头如果是：<ul><li>门风 +2 符</li><li>场风 +2 符</li><li>三元牌 +2 符</li></ul></li><li>面子如果是：<ul><li>明刻 +2 符</li><li>暗刻 ×2</li><li>幺九 ×2</li><li>杠子 ×4</li></ul></li><li>特别地：<ul><li>七对的符点永远固定为 25 符；</li><li>平和自摸仅有基本符点 20 符。</li></ul></li><li>除了七对外，符点数最终算出的结果要进位到下一个整十位。即 22 符、24 符、28 符、30 符皆计为 30 符。</li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1606495914137-fad53501-f679-4f0b-b4e4-01aaa3a343ca.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=421&amp;id=f7j1p&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=842&amp;originWidth=1576&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=141397&amp;status=done&amp;style=none&amp;title=&amp;width=788" alt="" /></p><h3 id="52-标准分"><a class="markdownIt-Anchor" href="#52-标准分"></a> 5.2. 标准分</h3><ul><li>和牌至少有 1 番，和牌的“标准分”为：<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">符</mi><mi mathvariant="normal">点</mi><mo>×</mo><msup><mn>2</mn><mrow><mi mathvariant="normal">番</mi><mi mathvariant="normal">数</mi><mo>+</mo><mn>2</mn></mrow></msup></mrow><annotation encoding="application/x-tex">符点\times 2^{番数+2}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.66666em;vertical-align:-0.08333em;"></span><span class="mord cjk_fallback">符</span><span class="mord cjk_fallback">点</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord"><span class="mord">2</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord cjk_fallback mtight">番</span><span class="mord cjk_fallback mtight">数</span><span class="mbin mtight">+</span><span class="mord mtight">2</span></span></span></span></span></span></span></span></span></span></span></span></li><li>如果&quot;标准分&quot;大于 2000，则成为“满贯”。此时标准分为 2000 分。<ul><li>简单的说 70 符或以上的 3 番，40 符或以上的 4 番，所有的 5 番皆属此列。他们的标准分都是 2000 分。</li></ul></li><li>满贯以及比满贯更大的牌型，不再计算符点。简单说：<ul><li>6-7 番为“跳满”，标准分 3000 分</li><li>8-10 番为“倍满”，标准分 4000 分</li><li>11-12 番为“三倍满”，标准分 6000 分</li><li>13 番或以上为“役满”，标准分 8000 分</li><li>此外还可能有“双倍役满”，标准分 16000 分</li></ul></li></ul><h3 id="53-和牌后的总分计算"><a class="markdownIt-Anchor" href="#53-和牌后的总分计算"></a> 5.3. 和牌后的总分计算</h3><ul><li>庄家和牌：<ul><li>如果是荣和，放铳者付基本分 ×6 给庄家</li><li>如果是自摸，闲家每人付基本分 ×2 给庄家</li></ul></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1606496121985-422c1738-ece2-44b0-a505-79e7c9d47980.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=838&amp;id=Gl448&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1676&amp;originWidth=1868&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=265590&amp;status=done&amp;style=none&amp;title=&amp;width=934" alt="" /></p><ul><li>闲家和牌：<ul><li>如果是荣和，放铳者付基本分 ×4 给和牌者</li><li>如果是自摸，庄家付基本分 ×2，闲家每人付基本分 ×1 给和牌者</li></ul></li></ul><p><img src="https://cdn.nlark.com/yuque/0/2020/png/962951/1606496173417-ffa1c2f6-d933-4559-b060-0f0feb06b590.png#crop=0&amp;crop=0&amp;crop=1&amp;crop=1&amp;height=907&amp;id=HZoEk&amp;margin=%5Bobject%20Object%5D&amp;name=image.png&amp;originHeight=1814&amp;originWidth=1514&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=288596&amp;status=done&amp;style=none&amp;title=&amp;width=757" alt="" /></p><ul><li>所有分都向上进位到下一个 100 后计算，也就是说不会出现几十的分。</li><li>立直需要支付 1000 分，和牌后这 1000 分将归和牌者所得。</li><li>连庄时每个本场和牌分数额外加 300 分。</li></ul>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>MATLAB自定义函数</title>
    <link href="/2022/01/24/MATLAB%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0/"/>
    <url>/2022/01/24/MATLAB%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0/</url>
    
    <content type="html"><![CDATA[<h2 id="简介"><a class="markdownIt-Anchor" href="#简介"></a> 简介</h2><p>本文总结了一部分我在科研工作中常用的一些自定义的 MATLAB 函数，每个函数均有详细的帮助文档和注释，可供大家参考。详细内容可参考右侧的目录，同时每个函数均提供源代码以及相应的 .m 文件。将该 .m 文件放到你的 MATLAB 的工作目录下即可直接调用之，而且输入 <code>help 函数名</code> 命令还可以查看对应函数的帮助文档。</p><h2 id="函数列表"><a class="markdownIt-Anchor" href="#函数列表"></a> 函数列表</h2><h3 id="fft_plot-快速绘制信号的频谱图"><a class="markdownIt-Anchor" href="#fft_plot-快速绘制信号的频谱图"></a> <code>fft_plot</code> —— 快速绘制信号的频谱图</h3><ul><li><a href="/matlab/fft_plot.m">点击下载 .m 文件</a></li><li>该函数首先对输入信号进行傅里叶变换，然后计算其单边频谱图，随后自动调用 plot 函数进行绘图。同时可选择是否在信号结尾补零（以提高频谱分辨率，参考 <a href="https://zhuanlan.zhihu.com/p/85863024">快速傅里叶变换(FFT)中为什么要“补零”？ - 知乎</a>)，以及是否在做傅里叶变换变换前对信号加窗（以抑制频谱泄漏和旁瓣，参考 <a href="https://zhuanlan.zhihu.com/p/260162438">Matlab FFT 加窗 - 知乎</a>），默认选项是补零至 2 的整数次幂，以及使用汉明窗。源代码参考如下：</li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></div></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">[f, P1]</span> = <span class="hljs-title">fft_plot</span><span class="hljs-params">(X, Fs, varargin)</span></span><br><span class="hljs-comment">% FFT_PLOT 自动使用 fft 计算频谱并随即调用 plot 绘制频谱图</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 使用方法</span><br><span class="hljs-comment">%   fft_plot(X, Fs) 绘制采样率为 Fs 的信号 X 的频谱图</span><br><span class="hljs-comment">%   fft_plot(X, Fs, &#x27;is_hamming&#x27;, 1) 是否加窗，默认为 1（加窗），0 则不加</span><br><span class="hljs-comment">%   fft_plot(X, Fs, &#x27;is_padding&#x27;, 1) 是否补零，默认为 1（补零），0 则不补</span><br><span class="hljs-comment">%   [f, P1] = fft_plot(X, Fs) 返回绘图所用的频率 f 和单边频谱 P1，供自定义绘图</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输入参数</span><br><span class="hljs-comment">%   X  输入信号</span><br><span class="hljs-comment">%   Fs 采样率</span><br><span class="hljs-comment">%   is_hamming （可选）是否加窗，默认加窗</span><br><span class="hljs-comment">%   is_padding （可选）是否补零，默认补零</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输出参数（可忽略）</span><br><span class="hljs-comment">%   f  绘图所使用的横轴频率</span><br><span class="hljs-comment">%   P1 绘图所使用的纵轴单边频谱</span><br><br>    p = inputParser;                  <span class="hljs-comment">% 解析参数</span><br>    addRequired(p, <span class="hljs-string">&#x27;X&#x27;</span>);              <span class="hljs-comment">% 必有参数 X</span><br>    addRequired(p, <span class="hljs-string">&#x27;Fs&#x27;</span>);             <span class="hljs-comment">% 必有参数 Fs</span><br>    addOptional(p, <span class="hljs-string">&#x27;is_hamming&#x27;</span>, <span class="hljs-number">1</span>);  <span class="hljs-comment">% 默认加窗</span><br>    addOptional(p, <span class="hljs-string">&#x27;is_padding&#x27;</span>, <span class="hljs-number">1</span>);  <span class="hljs-comment">% 默认补零</span><br>    parse(p, X, Fs, varargin&#123;:&#125;);<br><br>    w = <span class="hljs-built_in">ones</span>(<span class="hljs-built_in">size</span>(p.Results.X));      <span class="hljs-comment">% 默认矩形窗</span><br>    L = <span class="hljs-built_in">length</span>(p.Results.X);          <span class="hljs-comment">% 信号的长度</span><br>    <span class="hljs-keyword">if</span> p.Results.is_hamming           <span class="hljs-comment">% 是否加窗</span><br>        w = <span class="hljs-built_in">reshape</span>(hamming(L), <span class="hljs-built_in">size</span>(p.Results.X));<br>    <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">if</span> p.Results.is_padding           <span class="hljs-comment">% 是否补零</span><br>        L = <span class="hljs-number">2</span> ^ (<span class="hljs-built_in">nextpow2</span>(L) + <span class="hljs-number">1</span>);<br>    <span class="hljs-keyword">end</span><br><br>    Y = fft(w .* p.Results.X, L);     <span class="hljs-comment">% 信号的傅里叶变换</span><br>    P2 = <span class="hljs-built_in">abs</span>(Y/L);                    <span class="hljs-comment">% 双侧频谱</span><br>    P1 = P2(<span class="hljs-number">1</span>:L/<span class="hljs-number">2</span>+<span class="hljs-number">1</span>);                 <span class="hljs-comment">% 单侧频谱</span><br>    P1(<span class="hljs-number">2</span>:<span class="hljs-keyword">end</span><span class="hljs-number">-1</span>) = P1(<span class="hljs-number">2</span>:<span class="hljs-keyword">end</span><span class="hljs-number">-1</span>) * <span class="hljs-number">2</span>;<br>    f = p.Results.Fs * (<span class="hljs-number">0</span>:L/<span class="hljs-number">2</span>)/L;     <span class="hljs-comment">% 频率 f</span><br>    <span class="hljs-built_in">plot</span>(f, P1);                               <span class="hljs-comment">% 按照给定参数绘图</span><br>    title(<span class="hljs-string">&#x27;Single-Sided Amplitude Spectrum&#x27;</span>);  <span class="hljs-comment">% 默认标题</span><br>    xlabel(<span class="hljs-string">&#x27;f (Hz)&#x27;</span>);                          <span class="hljs-comment">% 默认 xlabel</span><br>    ylabel(<span class="hljs-string">&#x27;|P1(f)|&#x27;</span>);                         <span class="hljs-comment">% 默认 ylabel</span><br><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="light_spot-提取图像的荧光点信号"><a class="markdownIt-Anchor" href="#light_spot-提取图像的荧光点信号"></a> <code>light_spot</code> —— 提取图像的荧光点信号</h3><ul><li><a href="/matlab/light_spot.m">点击下载 .m 文件</a></li><li>该函数主要通过形态学开运算来提取荧光成像图中的荧光亮点信号，同时调整参数之后也可以用来提取图像中较为明亮的前景信号以去除背景噪声。源代码参考如下：</li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">img_filtered</span> = <span class="hljs-title">light_spot</span><span class="hljs-params">(img, disk_radius, threshold)</span></span><br><span class="hljs-comment">% LIGHT_SPOT 提取荧光图像中的光点</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 使用方法</span><br><span class="hljs-comment">%   img_filtered = light_spot(img, disk_radius, threshold)</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输入参数</span><br><span class="hljs-comment">%   img         输入图像</span><br><span class="hljs-comment">%   disk_radius 执行形态学开运算的结构单元半径，其值越小。保留结构越多</span><br><span class="hljs-comment">%   threshold   图像增强卡的阈值，按百分比计算，小于该值的元素将被设置为 0</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输出参数</span><br><span class="hljs-comment">%   img_filtered  图像增强后的图像</span><br><br>    img2 = imtophat(img, strel(<span class="hljs-string">&#x27;disk&#x27;</span>, disk_radius));<br>    img3 = imadjust(img2, [<span class="hljs-number">0</span>, <span class="hljs-number">0.1</span>], [<span class="hljs-number">0</span>, <span class="hljs-number">1</span>]);<br>    img_filtered = img3 .* uint8(img3 &gt; <span class="hljs-number">255</span> * threshold);<br><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="generate_plane_signal-产生无限大平板的光声仿真信号"><a class="markdownIt-Anchor" href="#generate_plane_signal-产生无限大平板的光声仿真信号"></a> <code>generate_plane_signal</code> —— 产生无限大平板的光声仿真信号</h3><ul><li><a href="/matlab/generate_plane_signal.m">点击下载 .m 文件</a></li><li>该函数产生 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span></span></span></span> 脉冲激发的无限大平板的光声信号，使用的仿真公式如下所示：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>z</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><mfrac><msub><mi>p</mi><mn>0</mn></msub><mn>2</mn></mfrac><mrow><mo fence="true">[</mo><mi>u</mi><mo stretchy="false">(</mo><mi>z</mi><mo>−</mo><mi>c</mi><mi>t</mi><mo>+</mo><mfrac><mi>d</mi><mn>2</mn></mfrac><mo stretchy="false">)</mo><mi>u</mi><mo stretchy="false">(</mo><mo>−</mo><mi>z</mi><mo>+</mo><mi>c</mi><mi>t</mi><mo>+</mo><mfrac><mi>d</mi><mn>2</mn></mfrac><mo stretchy="false">)</mo><mo>+</mo><mi>u</mi><mo stretchy="false">(</mo><mi>z</mi><mo>+</mo><mi>c</mi><mi>t</mi><mo>+</mo><mfrac><mi>d</mi><mn>2</mn></mfrac><mo stretchy="false">)</mo><mi>u</mi><mo stretchy="false">(</mo><mo>−</mo><mi>z</mi><mo>−</mo><mi>c</mi><mi>t</mi><mo>+</mo><mfrac><mi>d</mi><mn>2</mn></mfrac><mo stretchy="false">)</mo><mo fence="true">]</mo></mrow></mrow><annotation encoding="application/x-tex">p(z,t)=\frac{p_0}{2}\left[u(z-ct+\frac{d}{2})u(-z+ct+\frac{d}{2})+u(z+ct+\frac{d}{2})u(-z-ct+\frac{d}{2})\right]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:2.40003em;vertical-align:-0.95003em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.1075599999999999em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="minner"><span class="mopen delimcenter" style="top:0em;"><span class="delimsizing size3">[</span></span><span class="mord mathdefault">u</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathdefault">u</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">u</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mord mathdefault">u</span><span class="mopen">(</span><span class="mord">−</span><span class="mord mathdefault" style="margin-right:0.04398em;">z</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.37144em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault">d</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mclose">)</span><span class="mclose delimcenter" style="top:0em;"><span class="delimsizing size3">]</span></span></span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">signal</span> = <span class="hljs-title">generate_plane_signal</span><span class="hljs-params">(D, r, vs, t)</span></span><br><span class="hljs-comment">% GENERATE_PLANE_SIGNAL 产生无线大平板的光声信号</span><br><span class="hljs-comment">% 其产生的信号的默认初始声压 p0 = 1</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 使用方法</span><br><span class="hljs-comment">%   signal = generate_plane_signal(D, r, vs, t)</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输入参数</span><br><span class="hljs-comment">%   D  平板的厚度</span><br><span class="hljs-comment">%   r  探测器距离平板中心的距离</span><br><span class="hljs-comment">%   vs 声速</span><br><span class="hljs-comment">%   t  时间序列</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输出参数</span><br><span class="hljs-comment">%   signal 产生的信号</span><br><br>    u = @(x) double(x &gt; <span class="hljs-number">0</span>);  <span class="hljs-comment">% u 为单位阶跃函数</span><br>    signal = (u(r - vs * t + D / <span class="hljs-number">2</span>) .* u(-r + vs * t + D / <span class="hljs-number">2</span>) + ...<br>        u(r + vs * t + D / <span class="hljs-number">2</span>) .* u(-r - vs * t + D / <span class="hljs-number">2</span>)) / <span class="hljs-number">2</span>;<br><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="generate_sphere_signal-产生球的光声仿真信号"><a class="markdownIt-Anchor" href="#generate_sphere_signal-产生球的光声仿真信号"></a> <code>generate_sphere_signal</code> —— 产生球的光声仿真信号</h3><ul><li><a href="/matlab/generate_sphere_signal.m">点击下载 .m 文件</a></li><li>该函数产生 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span></span></span></span> 脉冲激发的球的光声信号，使用的仿真公式如下所示：</li></ul><p><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>p</mi><mo stretchy="false">(</mo><mi>r</mi><mo separator="true">,</mo><mi>t</mi><mo stretchy="false">)</mo><mo>=</mo><msub><mi>p</mi><mn>0</mn></msub><mfrac><mrow><mi>r</mi><mo>−</mo><mi>c</mi><mi>t</mi></mrow><mrow><mn>2</mn><mi>r</mi></mrow></mfrac><mi>u</mi><mo stretchy="false">(</mo><mi>R</mi><mo>−</mo><mi mathvariant="normal">∣</mi><mi>r</mi><mo>−</mo><mi>c</mi><mi>t</mi><mi mathvariant="normal">∣</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">p(r,t)=p_0\frac{r-ct}{2r}u(R-|r-ct|)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">p</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.16666666666666666em;"></span><span class="mord mathdefault">t</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1.9780799999999998em;vertical-align:-0.686em;"></span><span class="mord"><span class="mord mathdefault">p</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.29208em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord mathdefault">u</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.00773em;">R</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathdefault" style="margin-right:0.02778em;">r</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">c</span><span class="mord mathdefault">t</span><span class="mord">∣</span><span class="mclose">)</span></span></span></span></span></p><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">signal</span> = <span class="hljs-title">generate_sphere_signal</span><span class="hljs-params">(R, r, vs, t)</span></span><br><span class="hljs-comment">% GENERATE_SPHERE_SIGNAL 产生球的光声信号</span><br><span class="hljs-comment">% 其产生的信号的默认初始声压 p0 = 1</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 使用方法</span><br><span class="hljs-comment">%   signal = generate_sphere_signal(R, r, vs, t)</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输入参数</span><br><span class="hljs-comment">%   R  球半径</span><br><span class="hljs-comment">%   r  探测器距离球心的距离</span><br><span class="hljs-comment">%   vs 声速</span><br><span class="hljs-comment">%   t  时间序列</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输出参数</span><br><span class="hljs-comment">%   signal 产生的信号</span><br><br>    u = @(x) double(x &gt; <span class="hljs-number">0</span>);  <span class="hljs-comment">% u 为单位阶跃函数</span><br>    signal = (r - vs * t) / (<span class="hljs-number">2</span> * r) .* u(R- <span class="hljs-built_in">abs</span>(r - vs * t));<br><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="generate_sphere_signal_diff-产生球的光声仿真信号的时间导数"><a class="markdownIt-Anchor" href="#generate_sphere_signal_diff-产生球的光声仿真信号的时间导数"></a> <code>generate_sphere_signal_diff</code> —— 产生球的光声仿真信号的时间导数</h3><ul><li><a href="/matlab/generate_sphere_signal_diff.m">点击下载 .m 文件</a></li><li>该函数产生 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span></span></span></span> 脉冲激发的球的光声信号的时间导数。源代码参考如下：</li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">signal_diff</span> = <span class="hljs-title">generate_sphere_signal_diff</span><span class="hljs-params">(R, r, vs, t)</span></span><br><span class="hljs-comment">% GENERATE_SPHERE_SIGNAL 产生球的光声信号的时间导数信号</span><br><span class="hljs-comment">% 其产生的信号的默认初始声压 p0 = 1</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 使用方法</span><br><span class="hljs-comment">%   signal_diff = generate_sphere_signal(R, r, vs, t)</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输入参数</span><br><span class="hljs-comment">%   R  球半径</span><br><span class="hljs-comment">%   r  探测器距离球心的距离</span><br><span class="hljs-comment">%   vs 声速</span><br><span class="hljs-comment">%   t  时间序列</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输出参数</span><br><span class="hljs-comment">%   signal_diff 产生的时间导数信号</span><br><br>    u = @(x) double(x &gt; <span class="hljs-number">0</span>);  <span class="hljs-comment">% u 为单位阶跃函数</span><br>    signal_diff = -vs / (<span class="hljs-number">2</span> * r) .* u(R- <span class="hljs-built_in">abs</span>(r - vs * t));<br><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="generate_cylinder_signal-产生无限长圆柱的光声仿真信号"><a class="markdownIt-Anchor" href="#generate_cylinder_signal-产生无限长圆柱的光声仿真信号"></a> <code>generate_cylinder_signal</code> —— 产生无限长圆柱的光声仿真信号</h3><ul><li><a href="/matlab/generate_cylinder_signal.m">点击下载 .m 文件</a></li><li>该函数产生 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>δ</mi></mrow><annotation encoding="application/x-tex">\delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03785em;">δ</span></span></span></span> 脉冲激发的无限长圆柱的光声信号。源代码参考如下：</li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">signal</span> = <span class="hljs-title">generate_cylinder_signal</span><span class="hljs-params">(R, r, vs, t)</span></span><br><span class="hljs-comment">% GENERATE_CYLINDER_SIGNAL 产生无限长圆柱的光声信号</span><br><span class="hljs-comment">% 其产生的信号的默认初始声压 p0 = 1</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 使用方法</span><br><span class="hljs-comment">%   signal = generate_cylinder_signal(R, r, vs, t)</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输入参数</span><br><span class="hljs-comment">%   R  圆柱的半径</span><br><span class="hljs-comment">%   r  探测器距离圆柱中心的距离</span><br><span class="hljs-comment">%   vs 声速</span><br><span class="hljs-comment">%   t  时间序列</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输出参数</span><br><span class="hljs-comment">%   signal 产生的信号</span><br><br>    N = <span class="hljs-built_in">length</span>(t);<br>    signal = <span class="hljs-built_in">zeros</span>(<span class="hljs-number">1</span>, N);<br>    <span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:N<br>        ti = t(<span class="hljs-built_in">i</span>);<br>        d = vs * ti;<br>        <span class="hljs-keyword">if</span> ti &lt;= (r - R) / vs<br>            signal(<span class="hljs-built_in">i</span>) = <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">elseif</span> ti &gt; (r - R) / vs &amp;&amp; ti &lt; (r + R) / vs<br>            low = (r - R) / d;<br>            high = (r^<span class="hljs-number">2</span> + d^<span class="hljs-number">2</span> - R^<span class="hljs-number">2</span>) / (<span class="hljs-number">2</span> * r * d);<br>            y = @(x) <span class="hljs-built_in">atan</span>(<span class="hljs-built_in">abs</span>(<span class="hljs-built_in">sqrt</span>((R^<span class="hljs-number">2</span> - (r - d * x).^<span class="hljs-number">2</span>) ./ ...<br>                (r^<span class="hljs-number">2</span> + d^<span class="hljs-number">2</span> - <span class="hljs-number">2</span> * r * d * x - R^<span class="hljs-number">2</span>))));<br>            signal(<span class="hljs-built_in">i</span>) = <span class="hljs-number">4</span> * d^<span class="hljs-number">2</span> * integral(y, low, high) + ...<br>                <span class="hljs-built_in">pi</span> * d / r * (R^<span class="hljs-number">2</span> - (r - d)^<span class="hljs-number">2</span>);<br>        <span class="hljs-keyword">elseif</span> ti &gt;= (r + R) / vs<br>            low = (r - R) / d;<br>            high = (r + R) / d;<br>            y = @(x) <span class="hljs-built_in">atan</span>(<span class="hljs-built_in">abs</span>(<span class="hljs-built_in">sqrt</span>((R^<span class="hljs-number">2</span> - (r - d * x).^<span class="hljs-number">2</span>) ./ ...<br>                (r^<span class="hljs-number">2</span> + d^<span class="hljs-number">2</span> - <span class="hljs-number">2</span> * r * d * x - R^<span class="hljs-number">2</span>))));<br>            signal(<span class="hljs-built_in">i</span>) = <span class="hljs-number">4</span> * d^<span class="hljs-number">2</span> * integral(y, low, high);<br>        <span class="hljs-keyword">end</span><br>        signal(<span class="hljs-built_in">i</span>) = signal(<span class="hljs-built_in">i</span>) / d;<br>    <span class="hljs-keyword">end</span><br>    temp = diff(signal) / (t(<span class="hljs-number">2</span>) - t(<span class="hljs-number">1</span>)) / (<span class="hljs-number">4</span> * <span class="hljs-built_in">pi</span> * vs^<span class="hljs-number">2</span>);<br>    signal(<span class="hljs-number">1</span>:N - <span class="hljs-number">1</span>) = temp;<br>    signal(N) = signal(N - <span class="hljs-number">1</span>);<br><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="recon_pact_signal-使用-das-算法重建光声信号"><a class="markdownIt-Anchor" href="#recon_pact_signal-使用-das-算法重建光声信号"></a> <code>recon_pact_signal</code> —— 使用 DAS 算法重建光声信号</h3><ul><li><a href="/matlab/recon_pact_signal.m">点击下载 .m 文件</a></li><li>该函数使用 delay and sum（DAS）算法来重建光声信号，只要按给定的参数格式输入即可。将之微改之后即可用于 GPU 加速的 CUDA 代码的原始代码进行编写，是一个高度结构化的 DAS 算法的实现。源代码参考如下：</li></ul><figure class="highlight matlab"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs matlab"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">signal_recon</span> = <span class="hljs-title">recon_pact_signal</span><span class="hljs-params">( ...</span></span><br><span class="hljs-params"><span class="hljs-function">    signal_backproj, detector_location, x_grid, y_grid, z_grid, ...</span></span><br><span class="hljs-params"><span class="hljs-function">    vs, fs, num_detector, num_time)</span></span><br><span class="hljs-comment">% RECON_PACT_SIGNAL 使用 delay and sum (DAS) 算法重建光声信号</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 使用方法</span><br><span class="hljs-comment">%   signal_recon = recon_pact_signal(signal_backproj, detector_location, ...</span><br><span class="hljs-comment">%                                    x_grid, y_grid, z_grid, vs, fs, ...</span><br><span class="hljs-comment">%                                    num_detector, num_time)</span><br><span class="hljs-comment">% 输入参数</span><br><span class="hljs-comment">%   signal_backproj         反投影信号，其每一行是一个探测器的信号</span><br><span class="hljs-comment">%   detector_location       探测器坐标，其每一行是一个探测器的坐标</span><br><span class="hljs-comment">%   x_grid、y_grid、z_grid  重建区域空间网格</span><br><span class="hljs-comment">%   vs、fs                  声速、采样率</span><br><span class="hljs-comment">%   num_detector、num_time  探测器数量、采样点数</span><br><span class="hljs-comment">%</span><br><span class="hljs-comment">% 输出参数</span><br><span class="hljs-comment">%   signal_recon  重建的信号，大小于 x_grid 相同</span><br><br>    signal_recon = <span class="hljs-number">0</span> * x_grid;  <span class="hljs-comment">% 初始化重建信号</span><br>    <span class="hljs-keyword">for</span> <span class="hljs-built_in">i</span> = <span class="hljs-number">1</span>:num_detector<br>        temp_signal = signal_backproj(<span class="hljs-built_in">i</span>, :);      <span class="hljs-comment">% 取出本次循环要用的信号</span><br>        temp_location = detector_location(<span class="hljs-built_in">i</span>, :);  <span class="hljs-comment">% 取出本次循环要用的坐标</span><br>        temp_signal(num_time) = <span class="hljs-number">0</span>;                <span class="hljs-comment">% 方便处理过大的索引</span><br>        <span class="hljs-comment">% 计算距离和延迟索引</span><br>        dx = x_grid - temp_location(<span class="hljs-number">1</span>);<br>        dy = y_grid - temp_location(<span class="hljs-number">2</span>);<br>        dz = z_grid - temp_location(<span class="hljs-number">3</span>);<br>        d = <span class="hljs-built_in">sqrt</span>(dx.^<span class="hljs-number">2</span> + dy.^<span class="hljs-number">2</span> + dz.^<span class="hljs-number">2</span>);<br>        idx = <span class="hljs-built_in">round</span>(d / vs * fs);<br>        <span class="hljs-comment">% 处理过大的索引</span><br>        idx(idx &gt; num_time) = num_time;<br>        <span class="hljs-comment">% delay and sum</span><br>        <span class="hljs-keyword">if</span> idx &lt; num_time<br>            signal_recon = signal_recon + temp_signal(idx);<br>        <span class="hljs-keyword">end</span><br>    <span class="hljs-keyword">end</span><br><br><span class="hljs-keyword">end</span><br></code></pre></td></tr></table></figure><h3 id="to-be-continued"><a class="markdownIt-Anchor" href="#to-be-continued"></a> To Be Continued…</h3>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
